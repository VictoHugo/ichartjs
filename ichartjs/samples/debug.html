<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>test</title>
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />
		<script type="text/javascript" src="../src/ichart.core.js"></script>
		<script type="text/javascript" src="../src/ichart.element.js"></script>
		<script type="text/javascript" src="../src/ichart.html.js"></script>
		<script type="text/javascript" src="../src/ichart.painter.js"></script>
		<script type="text/javascript" src="../src/ichart.component.js"></script>
		<script type="text/javascript" src="../src/ichart.legend.js"></script>
		<script type="text/javascript" src="../src/ichart.label.js"></script>
		<script type="text/javascript" src="../src/ichart.chart.js"></script>
		<script type="text/javascript" src="../src/ichart.custom.js"></script>
		<script type="text/javascript" src="../src/ichart.sector.js"></script>
		<script type="text/javascript" src="../src/ichart.sector2d.js"></script>
		<script type="text/javascript" src="../src/ichart.sector3d.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle2d.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle3d.js"></script>
		<script type="text/javascript" src="../src/ichart.column.js"></script>
		<script type="text/javascript" src="../src/ichart.column2d.js"></script>
		<script type="text/javascript" src="../src/ichart.bar.js"></script>
		<script type="text/javascript" src="../src/ichart.bar2d.js"></script>
		<script type="text/javascript" src="../src/ichart.columnmulti2d.js"></script>
		<script type="text/javascript" src="../src/ichart.columnstacked2d.js"></script>
		<script type="text/javascript" src="../src/ichart.columnstacked3d.js"></script>
		<script type="text/javascript" src="../src/ichart.columnmulti3d.js"></script>
		<script type="text/javascript" src="../src/ichart.barmulti2d.js"></script>
		<script type="text/javascript" src="../src/ichart.column3d.js"></script>
		<script type="text/javascript" src="../src/ichart.tip.js"></script>
		<script type="text/javascript" src="../src/ichart.text.js"></script>
		<script type="text/javascript" src="../src/ichart.pie.js"></script>
		<script type="text/javascript" src="../src/ichart.pie2d.js"></script>
		<script type="text/javascript" src="../src/ichart.donut2d.js"></script>
		<script type="text/javascript" src="../src/ichart.pie3d.js"></script>
		<script type="text/javascript" src="../src/ichart.coordinate.js"></script>
		<script type="text/javascript" src="../src/ichart.crosshair.js"></script>
		<script type="text/javascript" src="../src/ichart.linesegment.js"></script>
		<script type="text/javascript" src="../src/ichart.line.js"></script>
		<script type="text/javascript" src="../src/ichart.linebasic2d.js"></script>
		<script type="text/javascript" src="../src/ichart.area2d.js"></script>
		<script type="text/javascript" src="../plugin/ichart.gauge2d.js"></script>
		<script type="text/javascript" src="../plugin/ichart.slider.js"></script>
		<style type="text/css">
body {
	text-align: center;
	background-repeat: repeat;
}

#canvasDiv {
	margin: 0px auto;
	text-align: center;
}
</style>
		<script type="text/javascript">
		$(function () {
	           var data = [
	                           { name: '天语', value: 2.83, color: '#4572a7', va: true },
	                           { name: '苹果', value: 3.44, color: '#4572a7', va: true },
	                           { name: 'HTC', value: 3.66, color: '#4572a7', va: true },
	                           { name: '金立', value: 4.58, color: '#4572a7', va: true },
	                           { name: '中兴', value: 6.56, color: '#4572a7', va: true },
	                           { name: '酷派', value: 6.85, color: '#4572a7', va: true },
	                           { name: '诺基亚', value: 9.42, color: '#4572a7', va: true },
	                           { name: '华为', value: 9.54, color: '#4572a7', va: true },
	                           { name: '联想', value: 11.00, color: '#4572a7', va: true },
	                           { name: '三星', value: 15.73, color: '#4572a7', va: true }
	           ];
	           var chart = new iChart.Bar2D({
	               render: 'canvasDiv',
	               data: data,
	               title: '2012年6月中国手机市场份额TOP10',
	               subtitle: '联想手机超越诺基亚，以11%市场份额，成为中国市场第二',
	               footnote: '数据来源：赛诺',
	               width: 800,
	               height: 500,
	               coordinate: {
	                   width: 640,
	                   height: 260,
	                   axis: {
	                       width: [0, 0, 1, 1]
	                   },
	                   scale: [{
	                       position: 'bottom',
	                       start_scale: 0,
	                       end_scale: 18,
	                       scale_space: 2
	                   }]
	               },
	               shadow: true,
	               background_color: '#fcfcfc',
	               sub_option: {
	                   border: {
	                       enable: true,
	                       color: '#fcfcfc'
	                   },
	                   listeners: {
	                       beforedraw: function (s) {
	                           if (data[s.options.id].va) {
	                               return true;
	                           }
	                           return false;
	                       }
	                   }
	               },
	               label: {
	                   listeners: {
	                       beforedraw: function (s) {
	                           if (data[s.options.id].va) {
	                               return true;
	                           }
	                           return false;
	                       }
	                   }
	               },
	               legend: {
	                   enable: true,
	                   height: 500,
	                   listeners: {
	                       click: function (s, e, m) {
                       			console.log(m);
	                           if (data[m.index].va == true) {
	                               data[m.index].va = false;
	                               s.data[m.index].color = '#E0E0E0';
	                           }
	                           else {
	                               data[m.index].va = true;
	                               s.data[m.index].color = '#4572a7';
	                           }
	                           chart.draw();
	                       }
	                   }
	               }
	           });
	           chart.draw();

	       });
	</script>
	</head>
	<body>
		<div id='canvasDiv'></div>
	</body>
</html>
