<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>test</title>
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />

		<script type="text/javascript" src="../../ichart.min.1.0.js"></script>
		<script type="text/javascript" src="../data.js"></script>
	<style type="text/css">
		body{
			margin-top:10px;
			text-align: center;
		}
		#myCanvas div{
			margin:0px auto;
		}
	</style>
	<script type="text/javascript">
			var pie2d;
			$(function(){
				//console.profile('ABC');
				 pie2d = new iChart.Pie2D({
					render : 'myCanvas',
					animation:true,
					shadow:true,
					data: data,
					legend : {
						enable : true,
						listeners:{
							click:function(c,e,p){
					 			pie2d.toggle(p.index);
							}
						}
					},
					title : 'HTML 5 Sample Pie2D',
					width : 700,
					height : 500,
					radius:140,
					offsetAngle:45,
					listeners:{
						bound:function(p,n){
							//console.log("name:"+n);
						}
					}
					
				});
				//console.profileEnd('ABC');
				//开始画图
				pie2d.draw();
			});
			
			var NO_INDEX = 1,i=0;
			function add(){
				NO_INDEX++;
				pie2d.add({name : '美国'+i,value : Math.round(Math.random()*100+20),color:iChart.get(NO_INDEX)},false);
			}

			function add1(){
				NO_INDEX++;
				pie2d.add({name : '美国'+i,value : Math.round(Math.random()*100+20),color:iChart.get(NO_INDEX)},false,true);
			}
			
		</script>
	</head>
	<body>
		<div id='myCanvas'></div>
		<div><button onclick="add();">Add a Sector</button></div>
		<div><button onclick="add1();">Add a Sector with Animation</button></div>
	</body>
</html>
