<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>test</title>
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />

		<script type="text/javascript" src="../src/ichart.core.js"></script>
		<script type="text/javascript" src="../src/ichart.element.js"></script>
		<script type="text/javascript" src="../src/ichart.html.js"></script>
		<script type="text/javascript" src="../src/ichart.painter.js"></script>
		<script type="text/javascript" src="../src/ichart.component.js"></script>
		<script type="text/javascript" src="../src/ichart.interface.js"></script>
		<script type="text/javascript" src="../src/ichart.legend.js"></script>
		<script type="text/javascript" src="../src/ichart.label.js"></script>
		<script type="text/javascript" src="../src/ichart.chart.js"></script>
		<script type="text/javascript" src="../src/ichart.custom.js"></script>
		<script type="text/javascript" src="../src/ichart.sector.js"></script>
		<script type="text/javascript" src="../src/ichart.sector2d.js"></script>
		<script type="text/javascript" src="../src/ichart.sector3d.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle2d.js"></script>
		<script type="text/javascript" src="../src/ichart.rectangle3d.js"></script>
		<script type="text/javascript" src="../src/ichart.column.js"></script>
		<script type="text/javascript" src="../src/ichart.column2d.js"></script>
		<script type="text/javascript" src="../src/ichart.ellipse.js"></script>
		<script type="text/javascript" src="../src/ichart.bar.js"></script>
		<script type="text/javascript" src="../src/ichart.bar2d.js"></script>
		<script type="text/javascript" src="../src/ichart.barmulti2d.js"></script>
		<script type="text/javascript" src="../src/ichart.column3d.js"></script>
		<script type="text/javascript" src="../src/ichart.tip.js"></script>
		<script type="text/javascript" src="../src/ichart.text.js"></script>
		<script type="text/javascript" src="../src/ichart.pie.js"></script>
		<script type="text/javascript" src="../src/ichart.pie2d.js"></script>
		<script type="text/javascript" src="../src/ichart.pie3d.js"></script>
		<script type="text/javascript" src="../src/ichart.coordinate.js"></script>
		<script type="text/javascript" src="../src/ichart.crosshair.js"></script>
		<script type="text/javascript" src="../src/ichart.linesegment.js"></script>
		<script type="text/javascript" src="../src/ichart.line.js"></script>
		<script type="text/javascript" src="../src/ichart.linebasic2d.js"></script>
		<script type="text/javascript" src="../src/ichart.area2d.js"></script>
		<script type="text/javascript" src="../src/ichart.linemonitor2d.js"></script>
		<script type="text/javascript" src="../src/ichart.points.js"></script>
		<script type="text/javascript" src="../src/ichart.scatter2d.js"></script>
	<style type="text/css">
		body{
			margin-top:10px;
			text-align: center;
		}
		#myCanvas div{
			margin:0px auto;
		}
	</style>
	<script type="text/javascript">

	$(function(){
		var data = [
	         	{
	         		name : '北京',
	         		value:[{x:152590,y:563},{x:86235,y:611},{x:9999900,y:463},{x:7382900,y:463},{x:4550200,y:463},{x:2409700,y:467},{x:1213200,y:478},{x:580650,y:500},{x:4365,y:989},{x:2502,y:1048},{x:7290,y:929},{x:11575,y:871},{x:17855,y:811}],
	         		color:'#1f7e92'
	         	},
	         	{
	         		name : '上海',
	         		value:[{x:152590,y:163},{x:86235,y:211},{x:9999900,y:363},{x:7002900,y:463},{x:4050200,y:460},{x:2000000,y:450},{x:1200000,y:408},{x:580600,y:500},{x:4360,y:900},{x:2000,y:1048},{x:7290,y:929},{x:11575,y:871},{x:17855,y:811}],
	         		color:'#dad81f'
	         	}
         ];	
         
		var value1 = data[0].value;	//换底公式转换对数值
		var value2 = data[1].value;	//换底公式转换对数值
		for(var i=0;i< value1.length;i++){
			value1[i].x_ = value1[i].x;
			value1[i].x = Math.log(value1[i].x)/Math.LN10;
		}
		for(var i=0;i< value2.length;i++){
			value2[i].x_ = value2[i].x;
			value2[i].x = Math.log(value2[i].x)/Math.LN10;
		}		
         
		//定义了个性的数据格式，数组中每一个都是一个对象，有x,y两个属性，意味着横轴坐标值。
		var chart = new iChart.Scatter2D({
				render : 'canvasDiv',
				data: data,
				title : '基本的散点图',
				width : 1000,
				height : 400,
				tip:{
					enable : true
				},
				listeners:{
					parsePoint:function(d,v,x,y,j){
						return {text:v.x_+"/"+v.y};
					}
				},
				shadow:false,  //根据自己需要设置是否有阴影效果
				segment_style:{
					shadow_blur:2,
					point_opacity:0.8,//点的透明度，点多的时候可能会有重合的，设置透明度可以观察重合的效果
					point_size:10, //点大小，根据图中点的数量决定，点数量多时可以适当调小，点数量大多的时候可以适当调大点
					point_hollow:false //根据自己需要设置是否为空心
				},
				coordinate:{
					width:840,
					height:280,
					grid_color : '#9f9f9f',
					axis:{
						color:'#9f9f9f',
						width:[0,0,2,2]
					},
					scale:[{//scale的这两个横轴轴必须指定
						 position:'left',	
						 start_scale:0,
						 end_scale:1200,
						 scale_space:200,
						 scale_color:'#9f9f9f'
					},{
						 position:'bottom',	
						 labels:["100","1000","10000","100000","1000000","10000000","100000000"],
						 start_scale:2,
						 end_scale:8,
						 scale_space:1,
						 scale_color:'#9f9f9f'
					}]
				}
			});
		
		function darw(x,y,w,h,f,n){
			var x0;
			for(var i=2;i<n;i++){
				x0 = x+((Math.log(f*i)/Math.LN10)-2)*w;
				chart.target.line(x0,y,x0,y+h,1,'#afafaf');
			}
		}
		
		/**
		 *自定义组件
		 */
		chart.plugin(new iChart.Custom({
				drawFn:function(){
					/**
					 *计算平均值的高度(坐标Y值)
					 */	
					var coo = chart.getCoordinate(),
						x = coo.get('originx'),
						y = coo.get('originy'),
						W = coo.get('width'),
						H = coo.get('height');

					for(var k=2;k<8;k++){
						darw(x,y,W/6,H,Math.pow(10,k),10);
					}
					
				}
		}));
		chart.draw();
	});
		
		</script>
	</head>
	<body>
		<div><a href="../index.html">Home</a>&nbsp;Sample</div>
		<br>
		<div id='canvasDiv'></div>
	</body>
</html>
