iChart.BarMulti2D=iChart.extend(iChart.Bar,{configure:function(){iChart.BarMulti2D.superclass.configure.call(this);this.type="barmulti2d";this.dataType="complex";this.columns=[]},doConfig:function(){iChart.BarMulti2D.superclass.doConfig.call(this);var f=this.data.length,a=this.data_labels.length;this.coo.get("width");var c=this.coo.get("height"),g=a*f,b=this.pushIf("barheight",c/(a+1+g));b*f>c&&(b=this.push("barheight",c/(a+1+g)));this.push("barspace",(c-b*g)/(a+1));var i=this.coo.getScale(this.get("scaleAlign")),h=f*b+this.get("barspace");this.get("barheight");var j;this.push("rectangle.height",b);this.columns.each(function(a,d){a.item.each(function(a,e){j=(a.value-i.start)*c/i.distance;this.doParse(a,e,d+"-"+e,this.x+this.get("hispace")+e*b+d*h,this.y+this.get("barspace")+e*b+d*h,j);a.reference=new iChart.Rectangle2D(this.get("rectangle"),this);this.rectangles.push(a.reference)},this);this.labels.push(new iChart.Text({id:d,text:a.name,textAlign:"right",textBaseline:"middle",originx:this.x-this.get("text_space"),originy:this.y+0.5*this.get("barspace")+(d+0.5)*h},this))},this);this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});