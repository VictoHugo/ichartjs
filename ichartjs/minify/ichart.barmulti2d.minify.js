iChart.BarMulti2D=iChart.extend(iChart.Bar,{configure:function(){iChart.BarMulti2D.superclass.configure.call(this);this.type="barmulti2d";this.dataType="complex";this.columns=[]},doConfig:function(){iChart.BarMulti2D.superclass.doConfig.call(this);var e=this.data.length,a=this.data_labels.length,j=this.coo.get("width"),b=this.coo.get("height"),f=a*e,c=this.pushIf("barheight",b/(a+1+f));c*e>b&&(c=this.push("barheight",b/(a+1+f)));this.push("barspace",(b-c*f)/(a+1));var h=this.coo.getScale(this.get("scaleAlign")),g=e*c+this.get("barspace");this.get("barheight");var i;this.push("rectangle.height",c);this.columns.each(function(a,d){a.item.each(function(a,b){i=(a.value-h.start)*j/h.distance;this.doParse(a,b,d+"-"+b,this.x+this.get("hispace")+b*c+d*g,this.y+this.get("barspace")+b*c+d*g,i);a.reference=new iChart.Rectangle2D(this.get("rectangle"),this);this.rectangles.push(a.reference)},this);this.labels.push(new iChart.Text({id:d,text:a.name,textAlign:"right",textBaseline:"middle",originx:this.x-this.get("text_space"),originy:this.y+0.5*this.get("barspace")+(d+0.5)*g},this))},this);this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});