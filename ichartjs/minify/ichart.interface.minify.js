iChart.Interface=function(){var k=function(a,c){var e=0,b=0,d,f=0;a.each(function(a,c){iChart.merge(a,this.fireEvent(this,"parseData",[this,a,c]));a.color=a.color||iChart.get(c);b=a.value;if(iChart.isNumber(b))b=iChart.parseFloat(b,this.type+":data["+c+"]"),a.value=b,this.total+=b,e=b>e?b:e,d||(d=b),d=b<d?b:d;else if(iChart.isArray(b)){var i=0;f=b.length>f?b.length:f;for(var g=0;g<b.length;g++)i+=b[g],d||(d=b),e=b[g]>e?b[g]:e,d=b[g]<d?b[g]:d;a.total=i}},this);iChart.isNumber(c)?Array.prototype.splice.apply(this.data,[c,0].concat(a)):this.data=this.data.concat(a);this.get("minValue")&&(d=this.get("minValue")<d?this.get("minValue"):d);this.get("maxValue")&&(e=this.get("maxValue")<e?this.get("maxValue"):e);iChart.isArray(this.get("labels"))&&(f=this.get("labels").length>f?this.get("labels").length:f);this.push("maxItemSize",f);this.push("minValue",d);this.push("maxValue",e);this.push("total",this.total);return a},l=function(a){this.data_labels=this.get("data_labels");var c=0,e=0,b,d=this.data_labels.length;this.data=this.data.concat(a);this.data.each(function(a,b){iChart.Assert.equal(a.value.length,d,this.type+":data length and data_labels not corresponding.");iChart.merge(a,this.fireEvent(this,"parseData",[this,a,b,this.data_labels]));iChart.Assert.equal(a.value.length,d,this.type+":data length and data_labels not corresponding.")},this);for(var f=0;f<d;f++){for(var j=[],h=0;h<this.data.length;h++)b=this.data[h],a=b.value[f],b.value[f]=iChart.parseFloat(a,this.type+":data["+h+","+f+"]"),b.color||(b.color=iChart.get(h)),this.total+=a,c=a>c?a:c,e=a<e?a:e,j.push({name:b.name,value:b.value[f],color:b.color});this.columns.push({name:this.data_labels[f],item:j})}this.push("minValue",e);this.push("maxValue",c);this.push("total",this.total)};return{parser:function(a,c){if("simple"==this.dataType)return k.call(this,[].concat(a),c);"complex"==this.dataType&&l.call(this,[].concat(a),c)},_3D:function(){if(this.is3D()){var a=iChart.vectorP2P(this.get("xAngle"),this.get("yAngle"));this.push("xAngle_",a.x);this.push("yAngle_",a.y)}},_2D:function(){},coordinate_:function(){if(this.dimension==iChart._2D)return new iChart.Coordinate2D(iChart.apply({scale:{position:this.get("scaleAlign"),max_scale:this.get("maxValue"),min_scale:this.get("minValue")}},this.get("coordinate")),this);this.push("coordinate.xAngle_",this.get("xAngle_"));this.push("coordinate.yAngle_",this.get("yAngle_"));this.push("coordinate.zHeight",this.get("zHeight")*this.get("bottom_scale"));return new iChart.Coordinate3D(iChart.apply({scale:{position:this.get("scaleAlign"),scaleAlign:this.get("scaleAlign"),max_scale:this.get("maxValue"),min_scale:this.get("minValue")}},this.get("coordinate")),this)},coordinate:function(){var a=this.pushIf("coordinate.width",0.8*this.get("client_width")),c=this.pushIf("coordinate.height",0.8*this.get("client_height"));"left"==this.get("align")?this.push("originx",this.get("l_originx")):"right"==this.get("align")?this.push("originx",this.get("r_originx")-a):this.push("originx",this.get("centerx")-a/2);this.push("originx",this.get("originx")+this.get("offsetx"));this.push("originy",this.get("centery")-c/2+this.get("offsety"));(!this.get("coordinate.valid_width")||this.get("coordinate.valid_width")>a)&&this.push("coordinate.valid_width",a);(!this.get("coordinate.valid_height")||this.get("coordinate.valid_height")>c)&&this.push("coordinate.valid_height",c);this.x=this.get("originx");this.y=this.get("originy");this.push("coordinate.originx",this.x);this.push("coordinate.originy",this.y)}}}();