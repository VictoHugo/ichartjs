iChart.Bar=iChart.extend(iChart.Chart,{configure:function(){iChart.Bar.superclass.configure.call(this);this.type="bar";this.set({coordinate:{alternate_direction:"h"},barheight:void 0,text_space:6,scaleAlign:"bottom",sub_option:{},label:{}});this.registerEvent()},getCoordinate:function(){return this.coo},doLabel:function(a,d,b,c){this.labels.push(new iChart.Text(iChart.apply(this.get("label"),{id:a,text:d,textAlign:"right",textBaseline:"middle",originx:b,originy:c}),this))},doParse:function(a,d,b,c){a.doActing(a,d,c,b)},doAnimation:function(a,d,b){b.coo.draw();b.labels.each(function(a){a.draw()});b.rectangles.each(function(c){c.push("width",Math.ceil(b.animationArithmetic(a,0,c.width,d)));c.drawRectangle()})},doConfig:function(){iChart.Bar.superclass.doConfig.call(this);var a=this._();iChart.Coordinate.coordinate.call(a);a.rectangles=[];a.labels=[];a.rectangles.zIndex=a.get("z_index");a.labels.zIndex=a.get("z_index")+1;a.components.push(a.labels);a.components.push(a.rectangles);if("simple"==a.dataType){var d=a.data.length,b=a.get("coordinate.height"),c=a.pushIf("barheight",b/(2*d+1));c*d>b&&(c=a.push("barheight",b/(2*d+1)));a.push("barspace",(b-c*d)/(d+1))}a.is3D();a.coo=iChart.Coordinate.coordinate_.call(a);a.components.push(a.coo);a.push("sub_option.height",c);a.push("sub_option.valueAlign","right");a.push("sub_option.tipAlign","right");a.push("sub_option.originx",a.x+a.coo.get("brushsize"))}});