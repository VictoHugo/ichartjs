iChart.Painter=iChart.extend(iChart.Element,{configure:function(){this.type="painter";this.dimension=iChart._2D;iChart.DefineAbstract("commonDraw",this);iChart.DefineAbstract("initialize",this);this.set({brushsize:1,strokeStyle:"gray",padding:10,color:"black",offsetx:0,offsety:0,background_color:"#FEFEFE",color_factor:0.15,gradient:!1,style:"",border:{enable:!0},z_index:0,listeners:null,originx:0,originy:0});this.variable.event={mouseover:!1};this.registerEvent("initialize","click","dblclick","mousemove","mouseover","mouseout","beforedraw","draw")},afterConfiguration:function(){},registerEvent:function(){for(var a=0;a<arguments.length;a++)this.events[arguments[a]]=[]},init:function(){if(!this.initialization){if(iChart.isObject(this.get("listeners")))for(var a in this.get("listeners"))this.on(a,this.get("listeners")[a]);this.initialize();this.fireEvent(this,"initialize",[this])}},is3D:function(){return this.dimension==iChart._3D},draw:function(a){this.init();this.draw=function(a){if(!this.fireEvent(this,"beforedraw",[this]))return this;this.commonDraw(a);this.fireEvent(this,"draw",[this])};this.draw(a)},fireString:function(a,c,b,d){a=this.fireEvent(a,c,b);return iChart.isString(a)?a:d},fireEvent:function(a,c,b){var d=this.events[c].length;if(1==d)return this.events[c][0].apply(a,b);for(var e=!0,f=0;f<d;f++)e=this.events[c][f].apply(a,b);return e},on:function(a,c){iChart.isString(a)&&iChart.isFunction(c)&&(this.events[a]||console.log(a));this.events[a].push(c);return this},doConfig:function(){var a=this._(),c=iChart.parsePadding(a.get("padding")),b=a.get("border.enable"),b=b?iChart.parsePadding(a.get("border.width")):[0,0,0,0],d=a.get("background_color"),e=a.get("color_factor");a.push("border_top",b[0]);a.push("border_right",b[1]);a.push("border_bottom",b[2]);a.push("border_left",b[3]);a.push("hborder",b[1]+b[3]);a.push("vborder",b[0]+b[2]);a.push("padding_top",c[0]+b[0]);a.push("padding_right",c[1]+b[1]);a.push("padding_bottom",c[2]+b[2]);a.push("padding_left",c[3]+b[3]);a.push("hpadding",c[1]+c[3]+b[1]+b[3]);a.push("vpadding",c[0]+c[2]+b[0]+b[2]);a.get("shadow")&&a.push("shadow",{color:a.get("shadow_color"),blur:a.get("shadow_blur"),offsetx:a.get("shadow_offsetx"),offsety:a.get("shadow_offsety")});a.push("fontStyle",iChart.getFont(a.get("fontweight"),a.get("fontsize"),a.get("font")));a.push("f_color",d);a.push("light_color",iChart.light(d,e));a.push("dark_color",iChart.dark(d,e));a.push("light_color2",iChart.light(d,2*e));a.push("dark_color2",2*iChart.dark(d,e));a.id=a.get("id")}});