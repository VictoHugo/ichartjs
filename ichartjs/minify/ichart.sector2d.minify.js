iChart.Sector2D=iChart.extend(iChart.Sector,{configure:function(){iChart.Sector2D.superclass.configure.apply(this,arguments);this.type="sector2d";this.set({radius:0});this.registerEvent("beforepop","analysing","drawRow")},drawSector:function(){this.T.sector(this.x,this.y,this.r,this.get("startAngle"),this.get("endAngle"),this.get("fill_color"),this.get("border.enable"),this.get("border.width"),this.get("border.color"),this.get("shadow"),this.get("shadow_color"),this.get("shadow_blur"),this.get("shadow_offsetx"),
this.get("shadow_offsety"),this.get("counterclockwise"))},isEventValid:function(a){return this.get("label.enable")&&this.label.isEventValid(a).valid?{valid:!0}:this.r<iChart.distanceP2P(this.x,this.y,a.offsetX,a.offsetY)?{valid:!1}:iChart.angleInRange(this.get("startAngle"),this.get("endAngle"),2*Math.PI-iChart.atan2Radian(this.x,this.y,a.offsetX,a.offsetY))?{valid:!0}:{valid:!1}},tipInvoke:function(){var a=this.get("middleAngle"),c=iChart.quadrantd(a),d=this,b=this.get("radius");return function(e,
f){var g=iChart.p2Point(d.x,d.y,a,0.8*b);return{left:2<=c&&3>=c?g.x-e:g.x,top:3<=c?g.y-f:g.y}}},labelInvoke:function(a,c){var d=this.get("middleAngle"),b=iChart.p2Point(a,c,d,this.r+this.get("label.linelength")),e=iChart.p2Point(a,c,d,this.r/2),f=iChart.quadrantd(d);return{origin:{x:e.x,y:e.y},lineFn:function(){this.T.line(e.x,e.y,b.x,b.y,this.get("border.width"),this.get("border.color"))},labelXY:function(){return{labelx:2<=f&&3>=f?b.x-this.width:b.x,labely:3<=f?b.y-this.height:b.y}}}},doConfig:function(){iChart.Sector2D.superclass.doConfig.call(this);
this.r=this.get("radius");iChart.Assert.gtZero(this.r);this.get("gradient")&&this.push("fill_color",this.T.avgRadialGradient(this.x,this.y,0,this.x,this.y,this.r,[this.get("light_color"),this.get("dark_color")]));this.pushIf("increment",iChart.lowTo(5,this.r/8));this.get("label.enable")&&(this.pushIf("label.linelength",iChart.lowTo(10,this.r/8)),this.label=new iChart.Label(this.get("label"),this))}});
