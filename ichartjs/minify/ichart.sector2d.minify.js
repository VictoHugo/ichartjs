iChart.Sector2D=iChart.extend(iChart.Sector,{configure:function(){iChart.Sector2D.superclass.configure.apply(this,arguments);this.type="sector2d";this.set({radius:0})},drawSector:function(){this.T.sector(this.x,this.y,this.r,this.get("startAngle"),this.get("endAngle"),this.get("f_color"),this.get("border.enable"),this.get("border.width"),this.get("border.color"),this.get("shadow"),this.get("shadow_color"),this.get("shadow_blur"),this.get("shadow_offsetx"),this.get("shadow_offsety"),this.get("counterclockwise"))},isEventValid:function(a){return this.label&&this.label.isEventValid(a).valid?{valid:!0}:this.r<iChart.distanceP2P(this.x,this.y,a.offsetX,a.offsetY)?{valid:!1}:iChart.angleInRange(this.get("startAngle"),this.get("endAngle"),2*Math.PI-iChart.atan2Radian(this.x,this.y,a.offsetX,a.offsetY))?{valid:!0}:{valid:!1}},tipInvoke:function(){var a=this;return function(d,b){var c=iChart.p2Point(a.x,a.y,a.get("middleAngle"),0.8*a.r),e=iChart.quadrantd(a.get("middleAngle"));return{left:2<=e&&3>=e?c.x-d:c.x,top:3<=e?c.y-b:c.y}}},doConfig:function(){iChart.Sector2D.superclass.doConfig.call(this);this.r=this.get("radius");iChart.Assert.gtZero(this.r);this.get("gradient")&&this.push("f_color",this.T.avgRadialGradient(this.x,this.y,0,this.x,this.y,this.r,[this.get("light_color"),this.get("dark_color")]));this.pushIf("increment",iChart.lowTo(5,this.r/8));if(this.get("label.enable")){this.pushIf("label.linelength",iChart.lowTo(10,this.r/8));var a=this.get("middleAngle"),d=iChart.quadrantd(a),b=iChart.p2Point(this.x,this.y,a,this.r/2);this.push("label.originx",b.x);this.push("label.originy",b.y);this.push("label.quadrantd",d);a=iChart.p2Point(this.x,this.y,a,this.r+this.get("label.linelength"));this.push("label.line_potins",[b.x,b.y,a.x,a.y]);this.push("label.labelx",a.x);this.push("label.labely",a.y);this.label=new iChart.Label(this.get("label"),this)}}});