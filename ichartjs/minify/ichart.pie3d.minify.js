iChart.Pie3D=iChart.extend(iChart.Pie,{configure:function(){iChart.Pie3D.superclass.configure.apply(this,arguments);this.type="pie3d";this.dimension=iChart.Math._3D;this.dataType="simple";this.set({zRotate:45,yHeight:30});this.registerEvent("beforeDrawRow","drawRow")},doConfig:function(){iChart.Pie3D.superclass.doConfig.call(this);this.push("zRotate",iChart.Math.between(0,90,90-this.get("zRotate")));var c,b;this.sector_config.semi_major_axis=this.get("radius");this.sector_config.semi_minor_axis=this.get("radius")*
this.get("zRotate")/90;this.sector_config.cylinder_height=this.get("yHeight")*Math.cos(iChart.Math.angleToRadian(this.get("zRotate")));for(var d=this.get("label.enable"),e=this.get("tip.enable"),a=0;a<this.data.length;a++)c=this.data[a].name+(this.get("showpercent")?iChart.Math.toPercent(this.data[a].value/this.total,this.get("decimalsnum")):""),d&&(b=this.fireEvent(this,"parseLabelText",[this.data[a],a]),this.sector_config.label.text=iChart.isString(b)?b:c),e&&(b=this.fireEvent(this,"parseTipText",
[this.data[a],a]),this.sector_config.tip.text=iChart.isString(b)?b:c),this.sector_config.startAngle=this.data[a].startAngle,this.sector_config.middleAngle=this.data[a].middleAngle,this.sector_config.endAngle=this.data[a].endAngle,this.sector_config.background_color=this.data[a].color,this.sectors.push(new iChart.Sector3D(this.sector_config,this));this.pushComponent(this.sectors)}});
