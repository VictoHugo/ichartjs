iChart.Pie=iChart.extend(iChart.Chart,{configure:function(){iChart.Pie.superclass.configure.call(this);this.type="pie";this.set({radius:0,offsetAngle:0,showpercent:!0,decimalsnum:1,bound_event:"click",customize_layout:!1,counterclockwise:!1,pop_animate:!1,mutex:!1,shadow:!0,gradient:!0,shadow_blur:4,shadow_offsetx:0,shadow_offsety:0,increment:void 0,label:{enable:!0,linelength:void 0,padding:5},tip:{enable:!1,border:{width:2,radius:5}}});this.registerEvent("beforeSectorAnimation","afterSectorAnimation");
this.sectors=[]},doAnimation:function(c,d){for(var a,b=0,e=this.offsetAngle,f=0;f<this.sectors.length;f++)a=this.sectors[f],this.fireEvent(this,"beforeSectorAnimation",[this,a]),b=this.animationArithmetic(c,0,a.get("totalAngle"),d),a.push("startAngle",e),a.push("endAngle",e+b),e+=b,a.drawSector(),this.fireEvent(this,"afterSectorAnimation",[this,a])},doConfig:function(){iChart.Pie.superclass.doConfig.call(this);iChart.Assert.gtZero(this.total,"this.total");for(var c=startAngle=this.offsetAngle=iChart.angle2Radian(this.get("offsetAngle")),
d=this.data,a=this.get("radius"),b=0;b<d.length;b++)c+=2*d[b].value/this.total*Math.PI,b==d.length-1&&(c=2*Math.PI+this.offsetAngle),d[b].startAngle=startAngle,d[b].endAngle=c,d[b].totalAngle=c-startAngle,d[b].middleAngle=(startAngle+c)/2,startAngle=c;if(0>=a||a>this.get("minDistance")/2)a=this.push("radius",this.get("minDistance")/2);this.pushIf("increment",iChart.lowTo(5,a/8));"left"==this.get("align")?this.push("originx",a+this.get("l_originx")+this.get("offsetx")):"right"==this.get("align")?this.push("originx",
this.get("r_originx")-a+this.get("offsetx")):this.push("originx",this.get("centerx")+this.get("offsetx"));this.push("originy",this.get("centery")+this.get("offsety"));this.sector_config=iChart.clone("originx,originy,bound_event,customize_layout,counterclockwise,pop_animate,mutex,shadow_blur,shadow_offsetx,shadow_offsety,increment,gradient,color_factor,label,tip,border".split(","),this.options)}});
