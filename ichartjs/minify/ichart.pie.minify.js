iChart.Pie=iChart.extend(iChart.Chart,{configure:function(){iChart.Pie.superclass.configure.call(this);this.type="pie";this.set({radius:0,offsetAngle:0,showpercent:!0,decimalsnum:1,pop_event:"click",customize_layout:!1,counterclockwise:!1,pop_animate:!1,mutex:!1,shadow:!0,gradient:!0,shadow_blur:4,shadow_offsetx:0,shadow_offsety:0,increment:void 0,label:{enable:!0,linelength:void 0,padding:5},tip:{enable:!1,border:{width:2,radius:5}}});this.registerEvent("beforeSectorAnimation","afterSectorAnimation");
this.sectors=[]},doAnimation:function(b,a){for(var c,e=0,d=this.offsetAngle,f=0;f<this.sectors.length;f++)c=this.sectors[f],this.fireEvent(this,"beforeSectorAnimation",[this,c]),e=this.animationArithmetic(b,0,c.get("totalAngle"),a),c.push("startAngle",d),c.push("endAngle",d+e),d+=e,c.drawSector(),this.fireEvent(this,"afterSectorAnimation",[this,c])},doConfig:function(){iChart.Pie.superclass.doConfig.call(this);iChart.Assert.gtZero(this.total,"this.total");for(var b=startAngle=this.offsetAngle=iChart.angle2Radian(this.get("offsetAngle")),
a=0;a<this.data.length;a++)b+=2*this.data[a].value/this.total*Math.PI,a==this.data.length-1&&(b=2*Math.PI+this.offsetAngle),this.data[a].startAngle=startAngle,this.data[a].endAngle=b,this.data[a].totalAngle=b-startAngle,this.data[a].middleAngle=(startAngle+b)/2,startAngle=b;(0>=this.get("radius")||this.get("radius")>this.get("minDistance")/2)&&this.push("radius",this.get("minDistance")/2);this.pushIf("increment",iChart.lowTo(5,this.get("radius")/8));"left"==this.get("align")?this.push("originx",this.get("radius")+
this.get("l_originx")+this.get("offsetx")):"right"==this.get("align")?this.push("originx",this.get("r_originx")-this.get("radius")+this.get("offsetx")):this.push("originx",this.get("centerx")+this.get("offsetx"));this.push("originy",this.get("centery")+this.get("offsety"));this.sector_config=iChart.clone("originx,originy,pop_event,customize_layout,counterclockwise,pop_animate,mutex,shadow_blur,shadow_offsetx,shadow_offsety,increment,gradient,color_factor,label,tip,border".split(","),this.options)}});
