iChart.Bar2D=iChart.extend(iChart.Bar,{configure:function(){iChart.Bar2D.superclass.configure.call(this);this.type="bar2d";this.dataType="simple";this.set({coordinate:{grid_color:"#CDCDCD",background_color:"#FEFEFE"}})},doConfig:function(){iChart.Bar2D.superclass.doConfig.call(this);var c=this.data.length,b=this.get("coordinate.height");this.pushIf("barheight",b/(2*c+1));this.get("barheight")*c>b&&this.push("barheight",b/(2*c+1));this.push("barspace",(b-this.get("barheight")*c)/(c+1));this.coo=iChart.Interface.coordinate2d.call(this);
this.pushComponent(this.coo,!0);var b=this.coo.getScale(this.get("keduAlign")),i=this.coo.get("width"),j=this.get("label.enable"),k=this.get("tip.enable"),g=this.get("barheight")+this.get("barspace"),f,h,d,e;this.push("rectangle.height",this.get("barheight"));this.push("rectangle.valueAlign","right");this.push("rectangle.tipAlign","right");this.push("rectangle.originx",this.x+this.coo.get("brushsize"));for(var a=0;a<c;a++)d=this.data[a].name,e=this.data[a].value,f=d+":"+e,h=(this.data[a].value-b.start)*
i/b.distance,j&&this.push("rectangle.label.text",this.fireString(this,"parseLabelText",[this.data[a],a],f)),k&&this.push("rectangle.tip.text",this.fireString(this,"parseTipText",[this.data[a],a],f)),d=this.fireString(this,"parseText",[this.data[a],a],d),e=this.fireString(this,"parseValue",[this.data[a],a],e),this.push("rectangle.originy",this.y+this.get("barspace")+a*g),this.push("rectangle.value",e),this.push("rectangle.width",h),this.push("rectangle.background_color",this.data[a].color),this.push("rectangle.id",
a),this.rectangles.push(new iChart.Rectangle2D(this.get("rectangle"),this)),this.labels.push(new iChart.Text({id:a,textAlign:"right",textBaseline:"middle",text:d,originx:this.x-this.get("text_space"),originy:this.y+this.get("barspace")+a*g+this.get("barheight")/2},this));this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});
