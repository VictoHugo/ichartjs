iChart.ColumnMulti2D=iChart.extend(iChart.Column,{configure:function(){iChart.ColumnMulti2D.superclass.configure.call(this);this.type="columnmulti2d";this.dataType="complex";this.set({});this.columns=[]},doAnimation:function(e,g){var a,h;this.coo.draw();for(var b=0;b<this.labels.length;b++)this.labels[b].draw();for(b=0;b<this.rectangles.length;b++)a=this.rectangles[b],this.fireEvent(this,"beforeRectangleAnimation",[this,a]),h=Math.ceil(this.animationArithmetic(e,0,a.height,g)),a.push("originy",a.y+
(a.height-h)),a.push("height",h),a.drawRectangle(),this.fireEvent(this,"afterRectangleAnimation",[this,a])},doConfig:function(){iChart.ColumnMulti2D.superclass.doConfig.call(this);var e=this.data.length,g=this.columnKeys.length,a=this.get("coordinate.width"),h=this.get("coordinate.height"),b=g*e,e=this.pushIf("hiswidth",a/(g+1+b));e*b>a&&(e=this.push("hiswidth",a/(g+1+b)));this.push("hispace",(a-e*b)/(g+1));this.coo=iChart.Interface.coordinate2d.call(this);this.pushComponent(this.coo,!0);var g=this.coo.getScale(this.get("keduAlign")),
a=this.coo.get("brushsize"),b=this.get("label.enable"),m=this.get("tip.enable"),k=this.data.length*e+this.get("hispace"),f,i,j,l;this.push("rectangle.width",e);for(var c=0;c<this.columns.length;c++){f=this.columns[c].item;l=this.fireString(this,"parseText",[this.columns[c],c],this.columns[c].name);for(var d=0;d<f.length;d++)j=(f[d].value-g.start)*h/g.distance,i=f[d].name+":"+f[d].value,b&&this.push("rectangle.label.text",this.fireString(this,"parseLabelText",[f[d],c],i)),m&&this.push("rectangle.tip.text",
this.fireString(this,"parseTipText",[f[d],c],i)),i=this.fireString(this,"parseValue",[f[d],c],f[d].value),this.push("rectangle.originx",this.x+this.get("hispace")+d*e+c*k),this.push("rectangle.originy",this.y+h-j-a),this.push("rectangle.value",i),this.push("rectangle.height",j),this.push("rectangle.background_color",f[d].color),this.push("rectangle.id",c+"-"+d),this.rectangles.push(new iChart.Rectangle2D(this.get("rectangle"),this));this.labels.push(new iChart.Text({id:c,text:l,originx:this.x+0.5*
this.get("hispace")+(c+0.5)*k,originy:this.get("originy")+h+this.get("text_space")},this))}this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});
