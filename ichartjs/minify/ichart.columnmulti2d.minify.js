iChart.ColumnMulti2D=iChart.extend(iChart.Column,{configure:function(){iChart.ColumnMulti2D.superclass.configure.call(this);this.type="columnmulti2d";this.dataType="complex";this.columns=[]},doRectangle:function(a,b,c,e,d,f){this.doParse(a,b,c,e,d,f);a.reference=new iChart.Rectangle2D(this.get("rectangle"),this);this.rectangles.push(a.reference)},doConfig:function(){iChart.ColumnMulti2D.superclass.doConfig.call(this);var a=this.data.length,b=this.data_labels.length,c=this.get("coordinate.width"),e=this.get("coordinate.height"),a=b*a,d=this.pushIf("colwidth",c/(b+1+a));d*a>c&&(d=this.push("colwidth",c/(b+1+a)));this.push("hispace",(c-d*a)/(b+1));var f=this.coo.getScale(this.get("scaleAlign")),i=this.coo.get("brushsize"),h=this.data.length*d+this.get("hispace"),g;this.push("rectangle.width",d);this.columns.each(function(a,b){a.item.each(function(a,c){g=(a.value-f.start)*e/f.distance;this.doParse(a,c,b+"-"+c,this.x+this.get("hispace")+c*d+b*h,this.y+e-g-i,g);a.reference=new iChart.Rectangle2D(this.get("rectangle"),this);this.rectangles.push(a.reference)},this);this.labels.push(new iChart.Text({id:b,text:a.name,originx:this.x+0.5*this.get("hispace")+(b+0.5)*h,originy:this.get("originy")+e+this.get("text_space")},this))},this);this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});