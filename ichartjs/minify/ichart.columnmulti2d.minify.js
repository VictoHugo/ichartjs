iChart.ColumnMulti2D=iChart.extend(iChart.Column,{configure:function(){iChart.ColumnMulti2D.superclass.configure.call(this);this.type="columnmulti2d";this.dataType="complex";this.set({});this.columns=[]},doAnimation:function(d,g){var a,h;this.coo.draw();for(var f=0;f<this.labels.length;f++)this.labels[f].draw();for(f=0;f<this.rectangles.length;f++)a=this.rectangles[f],this.fireEvent(this,"beforeRectangleAnimation",[this,a]),h=Math.ceil(this.animationArithmetic(d,0,a.height,g)),a.push("originy",a.y+
(a.height-h)),a.push("height",h),a.drawRectangle(),this.fireEvent(this,"afterRectangleAnimation",[this,a])},doConfig:function(){iChart.ColumnMulti2D.superclass.doConfig.call(this);var d=this.data.length,g=this.columnKeys.length,a=this.get("coordinate.width"),h=this.get("coordinate.height"),d=g*d;this.pushIf("hiswidth",a/(g+1+d));this.get("hiswidth")*d>a&&this.push("hiswidth",a/d/1.2);this.push("hispace",(a-this.get("hiswidth")*d)/(g+1));this.coo=iChart.Interface.coordinate2d.call(this);this.pushComponent(this.coo,
!0);var g=this.coo.getScale(this.get("keduAlign")),a=this.coo.get("brushsize"),d=this.get("label.enable"),f=this.get("tip.enable"),k=this.data.length*this.get("hiswidth")+this.get("hispace"),e,i,j,l;this.push("rectangle.width",this.get("hiswidth"));for(var b=0;b<this.columns.length;b++){e=this.columns[b].item;l=this.fireString(this,"parseText",[this.columns[b],b],this.columns[b].name);for(var c=0;c<e.length;c++)j=(e[c].value-g.start)*h/g.distance,i=e[c].name+":"+e[c].value,d&&this.push("rectangle.label.text",
this.fireString(this,"parseLabelText",[e[c],b],i)),f&&this.push("rectangle.tip.text",this.fireString(this,"parseTipText",[e[c],b],i)),i=this.fireString(this,"parseValue",[e[c],b],e[c].value),this.push("rectangle.originx",this.x+this.get("hispace")+c*this.get("hiswidth")+b*k),this.push("rectangle.originy",this.y+h-j-a),this.push("rectangle.value",i),this.push("rectangle.height",j),this.push("rectangle.background_color",e[c].color),this.push("rectangle.id",b+"-"+c),this.rectangles.push(new iChart.Rectangle2D(this.get("rectangle"),
this));this.labels.push(new iChart.Text({id:b,text:l,originx:this.x+0.5*this.get("hispace")+(b+0.5)*k,originy:this.get("originy")+h+this.get("text_space")},this))}this.pushComponent(this.labels);this.pushComponent(this.rectangles)}});
