(function(){var c=function(a,b){this.target=a;this.line=b;this.direction=a.get("direction");this.size=a.get("queue_size");this.space=a.get("label_spacing");this.end=a.get("line_end")};c.prototype={push:function(a){iChart.isArray(a)||(a=[a]);for("left"==this.direction&&a.reverse();this.size<this.line.points.length+a.length;)this.line.points.shift();for(var b=0;b<this.line.points.length;b++)this.line.points[b].x+=this.space*a.length*("left"==this.direction?-1:1);for(b=0;b<a.length;b++)x="left"==this.direction?
this.end-this.space*b:this.space*b,y=(iChart.Math.between(this.target.S.start,this.target.S.end,a[b])-this.target.S.start)*this.target.S.uh,this.line.points.push(iChart.merge({x:x,y:y,value:a[b]},this.target.fireEvent(this.target,"parsePoint",[a[b],x,y,b])))}};iChart.LineMonitor2D=iChart.extend(iChart.Line,{configure:function(){iChart.LineMonitor2D.superclass.configure.call(this);this.type="linemonitor2d";this.set({direction:"left",queue_size:10});this.registerEvent();this.queues=[]},createQueue:function(a){this.init();
var a=a||{},b=iChart.clone(this.get("segment_style"));b.brushsize=a.linewidth||1;b.background_color=a.color||"#BDBDBD";a=new iChart.LineSegment(b,this);this.pushComponent(a);return new c(this,a)},doConfig:function(){iChart.LineMonitor2D.superclass.doConfig.call(this);this.push("animation",!1);var a=1==this.data.length,b=this;this.get("coordinate.crosshair.enable")&&(this.push("coordinate.crosshair.hcross",a),this.push("coordinate.crosshair.invokeOffset",function(a){a=b.lines[0].isEventValid(a);return a.valid?
a:!1}));this.coo=new iChart.Coordinate2D(iChart.merge({kedu:[{position:this.get("keduAlign"),max_scale:this.get("maxValue")},{position:this.get("labelAlign"),scaleEnable:!1,start_scale:1,scale:1,end_scale:this.get("maxItemSize"),labels:this.get("labels")}],axis:{width:[0,0,1,1]}},this.get("coordinate")),this);this.pushComponent(this.coo,!0);this.push("label_spacing",this.get("coordinate.valid_width")/(this.get("queue_size")-1));this.get("segment_style.tip")?this.push("segment_style.tip.wrap",this.get("tip.wrap")):
this.push("segment_style.tip",this.get("tip"));this.push("segment_style.tip.showType","follow");this.push("segment_style.coordinate",this.coo);this.push("segment_style.keep_with_coordinate",!0);this.S=this.coo.getScale(this.get("keduAlign"));this.S.uh=this.get("coordinate.valid_height")/this.S.distance}})})();
