iChart.Tip=iChart.extend(iChart.Html,{configure:function(){iChart.Tip.superclass.configure.apply(this,arguments);this.type="tip";this.set({text:"",showType:"follow",invokeOffset:null,fade_duration:300,move_duration:100,shadow:!0,invokeOffsetDynamic:!1,style:"textAlign:left;padding:4px 5px;cursor:pointer;backgroundColor:rgba(239,239,239,.85);fontSize:12px;color:black;",border:{enable:!0},delay:200})},follow:function(a,b){if(this.get("invokeOffsetDynamic")){if(b.hit){if(iChart.isString(b.text)||iChart.isNumber(b.text))this.dom.innerHTML=
b.text;var c=this.get("invokeOffset")(this.width(),this.height(),b);this.dom.style.top=c.top+"px";this.dom.style.left=c.left+"px"}}else"follow"==this.get("showType")?(this.dom.style.top=a.offsetY-1.1*this.height()-2+"px",this.dom.style.left=a.offsetX+2+"px"):iChart.isFunction(this.get("invokeOffset"))?(c=this.get("invokeOffset")(this.width(),this.height(),b),this.dom.style.top=c.top+"px",this.dom.style.left=c.left+"px"):(this.dom.style.top=a.offsetY-1.1*this.height()-2+"px",this.dom.style.left=a.offsetX+
2+"px")},beforeshow:function(a,b){this.follow(a,b)},show:function(a,b){this.beforeshow(a,b);this.css("visibility","visible");this.get("animation")&&this.css("opacity",1)},hidden:function(){this.get("animation")?this.css("opacity",0):this.css("visibility","hidden")},initialize:function(){iChart.Tip.superclass.initialize.call(this);this.css("position","absolute");this.dom.innerHTML=this.get("text");this.hidden();if(this.get("animation")){this.transition("opacity "+this.get("fade_duration")/1E3+"s ease-in 0s");
this.transition("top "+this.get("move_duration")/1E3+"s ease-in 0s");this.transition("left "+this.get("move_duration")/1E3+"s ease-in 0s");var a=this;this.onTransitionEnd(function(){0==a.css("opacity")&&a.css("visibility","hidden")},!1)}this.wrap.appendChild(this.dom);a=this;this.T.on("mouseover",function(b,c){a.show(b,c)}).on("mouseout",function(b){a.hidden(b)});if("follow"==this.get("showType"))this.T.on("mousemove",function(b,c){a.target.variable.event.mouseover&&setTimeout(function(){a.target.variable.event.mouseover&&
a.follow(b,c)},a.get("delay"))})}});
