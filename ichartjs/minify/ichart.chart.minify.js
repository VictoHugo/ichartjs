(function(h){function z(a){"string"===typeof a&&(a=h(a));if(!a||!a.tagName||"canvas"!=a.tagName.toLowerCase())throw Error("there not a canvas element");this.canvas=a;this.c=this.canvas.getContext("2d");this.width=this.canvas.width;this.height=this.canvas.height}var p=Math.PI,v=p/90,A=v/2,u=Math.ceil,r=Math.floor,B=2*p,w=Math.max,x=Math.min,o=Math.sin,t=Math.cos,m=function(a,b){return 1==a?r(b)+0.5:Math.round(b)},C=function(a,b,c,d){var f=b.x,g=b.y,i=a[c-1],k=a[c+1],e,j;if(c<a.length-1){var a=i.y,c=k.y,h;e=(d*f+i.x)/(d+1);j=(d*g+a)/(d+1);k=(d*f+k.x)/(d+1);d=(d*g+c)/(d+1);h=(d-j)*(k-f)/(k-e)+g-d;j+=h;d+=h;j>a&&j>g?(j=w(a,g),d=2*g-j):j<a&&j<g&&(j=x(a,g),d=2*g-j);d>c&&d>g?(d=w(c,g),j=2*g-d):d<c&&d<g&&(d=x(c,g),j=2*g-d);b.rcx=k;b.rcy=d}return[i.rcx||i.x,i.rcy||i.y,e||f,j||g,f,g]},y=function(a){return h.isNumber(a)?a:h.parseFloat(a,a)},D=function(a){var b=0,c=0,d,f=0;this.total=0;a.each(function(a){c=a.value;if(h.isArray(c)){var i=0;f=c.length>f?c.length:f;for(var k=0;k<c.length;k++)c[k]=y(c[k]),i+=c[k],d||(d=c),b=c[k]>b?c[k]:b,d=c[k]<d?c[k]:d;a.total=i}else c=y(c),a.value=c,this.total+=c,b=c>b?c:b,d||(d=c),d=c<d?c:d},this);this.get("minValue")&&(d=this.get("minValue")<d?this.get("minValue"):d);this.get("maxValue")&&(b=this.get("maxValue")<b?this.get("maxValue"):b);h.isArray(this.get("labels"))&&(f=this.get("labels").length>f?this.get("labels").length:f);this.push("maxItemSize",f);this.push("minValue",d);this.push("maxValue",b)},E=function(a){this.labels=this.get("labels");var b=0,c=0,d,f,g=this.labels.length;this.columns=[];for(var i=this.total=0;i<g;i++){for(var k=[],e=0;e<a.length;e++)if(f=a[e],d=f.value[i])d=y(d,d),f.value[i]=d,this.total+=d,b=d>b?d:b,c=d<c?d:c,k.push({name:f.name,value:f.value[i],color:f.color});this.columns.push({name:this.labels[i],item:k})}this.push("minValue",c);this.push("maxValue",b)};z.prototype={getContext:function(){return this.c},css:function(a,b){if(h.isDefined(b))this.canvas.style[a]=b;else return this.canvas.style[a]},ellipse:function(a,b,c,d,f,g,i,k,e,j,h,l,m,s){l=!!l;m=!!m;this.save().gCo(s).strokeStyle(k,e,j).shadowOn(h).fillStyle(i).moveTo(a,b).beginPath();for(m&&this.moveTo(a,b);f<=g;)this.lineTo(a+c*t(f),b+(l?-d*o(f):d*o(f))),f+=v;return this.lineTo(a+c*t(g),b+(l?-d*o(g):d*o(g))).closePath().stroke(k).fill(i).restore()},arc:function(a,b,c,d,f,g,i,k,e,j,h,l,m,s){l=!!l;m=!!m&&!d;this.save().gCo(s).strokeStyle(k,e,j).shadowOn(h).fillStyle(i).beginPath();d?(this.moveTo(a+t(f)*(c-d),b+o(f)*(c-d)).lineTo(a+t(f)*c,b+o(f)*c),this.c.arc(a,b,c,f,g,l),this.lineTo(a+t(g)*(c-d),b+o(g)*(c-d)),this.c.arc(a,b,c-d,g,f,!l)):this.c.arc(a,b,c,f,g,l);m&&this.lineTo(a,b);return this.closePath().fill(i).stroke(k).restore()},sector:function(a,b,c,d,f,g,i,k,e,j,h,l){h&&this.arc(a,b,c,d,f,g,i,0,0,0,h,l,!0,!0);return this.arc(a,b,c,d,f,g,i,k,e,j,!1,l,!0)},sector3D:function(){var a=function(a,b,c,d,e,j,n,l,m){var s=h.quadrantd(e),q=h.quadrantd(j);if(!(2==s||3==s)||!(2==q||3==q)){s=function(e,j){this.lineTo(a+c*t(e),b+(j||0)+(n?-d*o(e):d*o(e)))};e=n&&j>p&&e<p?p:e;j=!n&&e<p&&j>p?p:j;q=e;for(this.fillStyle(h.dark(m)).moveTo(a+c*t(e),b+(n?-d*o(e):d*o(e))).beginPath();q<=j;)s.call(this,q),q+=v;s.call(this,j);this.lineTo(a+c*t(j),b+l+(n?-d*o(j):d*o(j)));for(q=j;q>=e;)s.call(this,q,l),q-=v;s.call(this,e,l);this.lineTo(a+c*t(e),b+(n?-d*o(e):d*o(e))).closePath().fill(!0)}},b=function(a,b,c,d,e,j,h,l){c=a+c*t(h);d=b+j+(e?-d*o(h):d*o(h));this.moveTo(a,b).beginPath().fillStyle(l).lineTo(a,b+j).lineTo(c,d).lineTo(c,d-j).lineTo(a,b).closePath().fill(!0)},c=function(a,c,d,k,e,j,n,l,m){var o=n?e<p/2||e>1.5*p:e>p/2&&e<1.5*p,q=n?j>p/2&&j<1.5*p:j<p/2||j>1.5*p;if(!o&&!q)return!1;m=h.dark(m);o&&b.call(this,a,c,d,k,n,l,e,m);q&&b.call(this,a,c,d,k,n,l,j,m)},d=function(b,d,i,k,e,j,h,l,m,o,q,p,r){this.ellipse(b,d+h,i,k,e,j,l,m,o,q,p,r,!0);c.call(this,b,d,i,k,e,j,r,h,l);this.ellipse(b,d,i,k,e,j,l,m,o,q,!1,r,!0);a.call(this,b,d,i,k,e,j,r,h,l);return this};d.layerPaint=c;d.sPaint=a;d.layerDraw=b;return d}(),textStyle:function(a,b,c){return this.textAlign(a).textBaseline(b).textFont(c)},strokeStyle:function(a,b,c,d){if(a&&(b&&(this.c.lineWidth=b),c&&(this.c.strokeStyle=c),d))this.c.lineJoin=d;return this},globalAlpha:function(a){a&&(this.c.globalAlpha=a);return this},fillStyle:function(a){a&&(this.c.fillStyle=a);return this},arc2:function(a,b,c,d,f){this.c.arcTo(a,b,c,d,f);return this},textAlign:function(a){a&&(this.c.textAlign=a);return this},textBaseline:function(a){a&&(this.c.textBaseline=a);return this},textFont:function(a){a&&(this.c.font=a);return this},shadowOn:function(a){a&&(this.c.shadowColor=a.color,this.c.shadowBlur=a.blur,this.c.shadowOffsetX=a.offsetx,this.c.shadowOffsetY=a.offsety);return this},shadowOff:function(){this.c.shadowColor="white";this.c.shadowBlur=this.c.shadowOffsetX=this.c.shadowOffsetY=0;return this},gradient:function(a,b,c,d,f,g){var g=g.toLowerCase(),i=a,h=b,e=!g.indexOf("linear"),g=g.substring(14);if(e){switch(g){case "updown":h+=d;break;case "downup":b+=d;break;case "leftright":i+=c;break;case "rightleft":a+=c;break;default:return f[0]}return this.avgLinearGradient(a,b,i,h,f)}a+=c/2;b+=d/2;"outin"==g&&f.reverse();return this.avgRadialGradient(a,b,0,a,b,0.8*(c>d?d:c),f)},avgLinearGradient:function(a,b,c,d,f){a=this.createLinearGradient(a,b,c,d);for(b=0;b<f.length;b++)a.addColorStop(b/(f.length-1),f[b]);return a},createLinearGradient:function(a,b,c,d){return this.c.createLinearGradient(a,b,c,d)},avgRadialGradient:function(a,b,c,d,f,g,i){a=this.createRadialGradient(a,b,c,d,f,g);for(b=0;b<i.length;b++)a.addColorStop(b/(i.length-1),i[b]);return a},createRadialGradient:function(a,b,c,d,f,g){return this.c.createRadialGradient(a,b,c,d,f,g)},text:function(a,b,c,d,f,g,i,h,e,j,n,l){return""==a?this:this.save().textStyle(g,i,h).fillText(a,b,c,d,f,e,j,n,l).restore()},fillText:function(a,b,c,d,f,g,i,h,e){a=a.toString();d=d||!1;g=g||"lr";i=i||16;this.save().fillStyle(f).translate(b,c).rotate(A*e).shadowOn(h);a.split("tb"==g?"":"\n").each(function(a){try{d?this.c.fillText(a,0,0,d):this.c.fillText(a,0,0),c+=i}catch(e){console.log(e.message+"["+a+","+b+","+c+"]")}},this);return this.restore()},measureText:function(a){return this.c.measureText(a).width},moveTo:function(a,b){this.c.moveTo(a||0,b||0);return this},lineTo:function(a,b){this.c.lineTo(a||0,b||0);return this},save:function(){this.c.save();return this},restore:function(){this.c.restore();return this},beginPath:function(){this.c.beginPath();return this},closePath:function(){this.c.closePath();return this},stroke:function(a){a&&this.c.stroke();return this},fill:function(a){a&&this.c.fill();return this},cube:function(a,b,c,d,f,g,i,k,e,j,n,l){a=m(j,a);b=m(j,b);i=i&&0<i?i:f;d=b-i*d;c=m(j,a+i*c);d=m(j,d);l&&(this.polygon(k,e,j,n,l,!1,[a,b,c,d,c+f,d,a+f,b]),this.polygon(k,e,j,n,l,!1,[a,b,a,b+g,a+f,b+g,a+f,b]),this.polygon(k,e,j,n,l,!1,[a+f,b,c+f,d,c+f,d+g,a+f,b+g]));this.polygon(h.dark(k),e,j,n,!1,!1,[a,b,c,d,c+f,d,a+f,b]);this.polygon(k,e,j,n,!1,!1,[a,b,a,b+g,a+f,b+g,a+f,b]);this.polygon(h.dark(k),e,j,n,!1,!1,[a+f,b,c+f,d,c+f,d+g,a+f,b+g]);return this},cube3D:function(a,b,c,d,f,g,i,k,e,j,n,l){a=m(j,a);b=m(j,b);k=!k||0==k?g:k;f?(d=h.vectorP2P(c,d),c=a+k*d.x,d=b-k*d.y):(c=a+k*c,d=b-k*d);for(;6>l.length;)l.push(!1);c=m(j,c);d=m(j,d);k=[];0>d?h.isObject(l[4])&&k.push(h.applyIf({points:[a,b-i,c,d-i,c+g,d-i,a+g,b-i]},l[4])):h.isObject(l[0])&&k.push(h.applyIf({points:[a,b,c,d,c+g,d,a+g,b]},l[0]));h.isObject(l[1])&&k.push(h.applyIf({points:[c,d,c,d-i,c+g,d-i,c+g,d]},l[1]));h.isObject(l[2])&&k.push(h.applyIf({points:[a,b,a,b-i,c,d-i,c,d]},l[2]));h.isObject(l[3])&&k.push(h.applyIf({points:[a+g,b,a+g,b-i,c+g,d-i,c+g,d]},l[3]));0>d?h.isObject(l[0])&&k.push(h.applyIf({points:[a,b,c,d,c+g,d,a+g,b]},l[0])):h.isObject(l[4])&&k.push(h.applyIf({points:[a,b-i,c,d-i,c+g,d-i,a+g,b-i]},l[4]));h.isObject(l[5])&&k.push(h.applyIf({points:[a,b,a,b-i,a+g,b-i,a+g,b]},l[5]));k.each(function(a){this.polygon(a.color,e,j,n,a.shadow,a.alpha,a.points)},this);return this},polygon:function(a,b,c,d,f,g,i){if(!(2>i.length)){this.save().strokeStyle(b,c,d).beginPath().fillStyle(a).globalAlpha(g).shadowOn(f).moveTo(i[0],i[1]);for(c=2;c<i.length;c+=2)this.lineTo(i[c],i[c+1]);return this.closePath().stroke(b).fill(a).restore()}},lines:function(a,b,c,d){if(4>a.length||!b)return this;this.save().gCo(d).beginPath().strokeStyle(!0,b,c).moveTo(m(b,a[0]),m(b,a[1]));for(c=2;c<a.length-1;c+=2)this.lineTo(m(b,a[c]),m(b,a[c+1]));return this.stroke(!0).restore()},bezierCurveTo:function(a){this.c.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);return this},lineArray:function(a,b,c,d,f){if(2>a.length||!b)return this;this.strokeStyle(!0,b,c).moveTo(m(b,a[0].x),m(b,a[0].y));if(d)for(c=1;c<a.length;c++)this.bezierCurveTo(C(a,a[c],c,f));else for(c=1;c<a.length;c++)this.lineTo(m(b,a[c].x),m(b,a[c].y));return this.stroke(!0)},manyLine:function(a,b,c,d,f){var g=[],i=!1;a.each(function(a){a.ignored&&i?(this.lineArray(g,b,c,d,f),g=[],i=!1):(g.push(a),i=!0)},this)},line:function(a,b,c,d,f,g,i){if(!f||0==f)return this;this.save().gCo(i);return this.beginPath().strokeStyle(!0,f,g).moveTo(m(f,a),m(f,b)).lineTo(m(f,c),m(f,d)).stroke(!0).restore()},round:function(a,b,c,d,f,g){return this.arc(a,b,c,0,0,B,d,!!g,f,g)},fillRect:function(a,b,c,d){this.c.fillRect(a,b,c,d);return this},translate:function(a,b){this.c.translate(a,b);return this},rotate:function(a){this.c.rotate(a);return this},clearRect:function(a,b,c,d){c=c||this.width;d=d||this.height;this.c.clearRect(a||0,b||0,c,d);return this},gCo:function(a){return a?this.gCO(a):this},gCO:function(a){this.c.globalCompositeOperation=a?"destination-over":"source-over";return this},box:function(a,b,c,d,f,g,i,k){f=f||{enable:0};if(f.enable)var e=f.width,j=f.color,n=f.radius,l=h.isNumber(e),e=h.parsePadding(e),c=c-(e[1]+e[3])/2,d=d-(e[0]+e[2])/2,a=a+e[3]/2,b=b+e[0]/2,a=r(a),b=r(b),e=l?e[0]:e,n=!l||0==n||"0"==n?0:h.parsePadding(n);this.save().shadowOn(i).gCo(k).fillStyle(g).strokeStyle(l,e,j);n?this.beginPath().moveTo(a+n[0],m(e,b)).lineTo(a+c-n[1],m(e,b)).arc2(a+c,m(e,b),a+c,b+n[1],n[1]).lineTo(m(e,a+c),b+d-n[2]).arc2(m(e,a+c),b+d,a+c-n[2],b+d,n[2]).lineTo(a+n[3],m(e,b+d)).arc2(a,m(e,b+d),a,b+d-n[3],n[3]).lineTo(m(e,a),b+n[0]).arc2(m(e,a),b,a+n[0],b,n[0]).closePath().fill(g).stroke(e):!f.enable||l?(f.enable&&this.c.strokeRect(a,b,m(e,c),m(e,d)),g&&this.fillRect(a,b,c,d)):(g&&this.beginPath().moveTo(r(a+e[3]/2),r(b+e[0]/2)).lineTo(u(a+c-e[1]/2),b+e[0]/2).lineTo(u(a+c-e[1]/2),u(b+d-e[2]/2)).lineTo(r(a+e[3]/2),u(b+d-e[2]/2)).lineTo(r(a+e[3]/2),r(b+e[0]/2)).closePath().fill(g),e&&(j=h.isArray(j)?j:[j,j,j,j],this.line(a+c,b+e[0]/2,a+c,b+d-e[0]/2,e[1],j[1],0).line(a,b+e[0]/2,a,b+d-e[0]/2,e[3],j[3],0).line(r(a-e[3]/2),b,a+c+e[1]/2,b,e[0],j[0],0).line(r(a-e[3]/2),b+d,a+c+e[1]/2,b+d,e[2],j[2],0)));return this.restore()},toImageURL:function(a){return this.canvas.toDataURL(a||"image/png")},addEvent:function(a,b,c){h.Event.addEvent(this.canvas,a,b,c)}};h.taylor={light:function(a,b){b.highlight=!1;a.on("mouseover",function(){b.highlight=!0;a.redraw()}).on("mouseout",function(){b.highlight=!1;a.redraw()}).on("beforedraw",function(){a.push("f_color",b.highlight?a.get("light_color"):a.get("f_color_"));return!0})}};h.Chart=h.extend(h.Painter,{configure:function(){h.Chart.superclass.configure.apply(this,arguments);this.type="chart";this.dataType="simple";this.set({render:"",data:[],width:void 0,height:void 0,lineJoin:"round",align:"center",default_mouseover_css:!0,turn_off_touchmove:!1,showpercent:!1,decimalsnum:1,title:{text:"",fontweight:"bold",fontsize:20,height:30},subtitle:{text:"",fontweight:"bold",fontsize:16,height:20},footnote:{text:"",color:"#5d7f97",textAlign:"right",height:20},footnote_align:"right",title_align:"center",title_valign:"top",animation:!1,doAnimation:null,animation_timing_function:"easeInOut",animation_duration:1E3,z_index:999,legend:{enable:!1},tip:{enable:!1}});this.registerEvent("parseTipText","beforeAnimation","afterAnimation","animating");this.T=null;this.animationed=this.RENDERED=!1;this.data=[];this.plugins=[];this.oneways=[];this.total=0},toImageURL:function(){return this.T.toImageURL()},segmentRect:function(){this.T.clearRect(this.get("l_originx"),this.get("t_originy"),this.get("client_width"),this.get("client_height"))},resetCanvas:function(){this.T.box(this.get("l_originx"),this.get("t_originy"),this.get("client_width"),this.get("client_height"),0,this.get("f_color"),0,!0)},animation:function(a){a.segmentRect();a.doAnimation(a.variable.animation.time,a.duration,a);a.resetCanvas();a.variable.animation.time<a.duration?(a.variable.animation.time++,h.requestAnimFrame(function(){a.animation(a)})):h.requestAnimFrame(function(){a.variable.animation.time=0;a.animationed=!0;a.draw();a.processAnimation=!1;a.fireEvent(a,"afterAnimation",[a])})},runAnimation:function(){this.fireEvent(this,"beforeAnimation",[this]);this.animation(this)},doSort:function(){this.components.sor(function(a,b){return(h.isArray(a)?a.zIndex||0:a.get("z_index"))>(h.isArray(b)?b.zIndex||0:b.get("z_index"))})},commonDraw:function(a){h.Assert.isTrue(a.RENDERED,a.type+" has not rendered.");h.Assert.isTrue(a.initialization,a.type+" has initialize failed.");h.Assert.gtZero(a.data.length,a.type+"'s data is empty.");a.redraw||(a.doSort(),a.oneways.eachAll(function(a){a.draw()}));a.redraw=!0;!a.animationed&&a.get("animation")?a.runAnimation():(a.components.each(function(){}),a.segmentRect(),a.components.eachAll(function(a){a.draw()}),a.resetCanvas())},plugin:function(a){a.inject(this);this.components.push(a);this.plugins(a)},getTitle:function(){return this.title},getSubTitle:function(){return this.subtitle},getFootNote:function(){return this.footnote},getDrawingArea:function(){return{x:this.get("l_originx"),x:this.get("t_originy"),width:this.get("client_width"),height:this.get("client_height")}},setUp:function(){this.redraw=!1;this.T.clearRect();this.initialization=!1;this.initialize()},create:function(a,b){a.width=a.pushIf("width",400);a.height=a.pushIf("height",300);a.canvasid=h.iGather(a.type);a.shellid="shell-"+a.canvasid;var c=[];c.push("<div id='");c.push(a.shellid);c.push("' style='width:");c.push(a.width);c.push("px;height:");c.push(a.height);c.push("px;padding:0px;margin:0px;overflow:hidden;position:relative;'>");c.push("<canvas id= '");c.push(a.canvasid);c.push("'  width='");c.push(a.width);c.push("' height='");c.push(a.height);c.push("'><p>Your browser does not support the canvas element</p></canvas></div>");b.innerHTML=c.join("");a.shell=h(a.shellid);a.T=a.target=new z(a.canvasid);a.RENDERED=!0},initialize:function(){var a=this._(),b=a.get("data");if(!a.RENDERED){var c=a.get("render");"string"==typeof c&&h(c)?a.create(a,h(c)):"object"==typeof c&&a.create(a,c)}0<b.length&&a.RENDERED&&!a.initialization&&("simple"==a.dataType?D.call(a,b):"complex"==a.dataType&&E.call(a,b),a.data=b,a.doConfig(),a.initialization=!0)},oneWay:function(a){var b=a.variable.event,c=!h.touch&&a.get("default_mouseover_css"),d,f,g=h.touch?["touchstart","touchmove"]:["click","mousemove"];g.each(function(b){a.T.addEvent(b,function(c){a.processAnimation||c.targetTouches&&1!=c.targetTouches.length||a.fireEvent(a,b,[a,h.Event.fix(c)])},!1)});a.on(g[0],function(a,c){a.components.eachAll(function(a){var d=a.isMouseOver(c);d.valid&&(b.click=!0,a.fireEvent(a,"click",[a,c,d]))});b.click&&(c.event.preventDefault(),b.click=!1)});if(!h.touch||!a.get("turn_off_touchmove"))a.on(g[1],function(a,g){d=f=!1;a.components.eachAll(function(e){var h=e.variable.event,m=e.isMouseOver(g);if(m.valid){if(d=!0,f=f||e.atomic,b.mouseover||(b.mouseover=!0,a.fireEvent(a,"mouseover",[e,g,m])),c&&f&&a.T.css("cursor","pointer"),h.mouseover||(h.mouseover=!0,e.fireEvent(e,"mouseover",[e,g,m])),e.fireEvent(e,"mousemove",[e,g,m]),m.stop)return!1}else h.mouseover&&(h.mouseover=!1,e.fireEvent(e,"mouseout",[e,g,m]))});b.mouseover&&(g.event.preventDefault(),c&&!f&&a.T.css("cursor","default"),!d&&b.mouseover&&(b.mouseover=!1,a.fireEvent(a,"mouseout",[a,g])))});a.oneWay=h.emptyFn},getPercent:function(a){return this.get("showpercent")?iChart.toPercent(a/this.total,this.get("decimalsnum")):a},doActing:function(a,b,c,d,f){var g=!!a.get("communal_acting");a.push(g?"sub_option":"communal_acting",iChart.clone(a.get(g?"communal_acting":"sub_option"),!0));iChart.merge(a.get("sub_option"),b);iChart.merge(a.get("sub_option"),c);a.pushIf("sub_option.background_color",b.color);a.get("sub_option.tip.enable")&&a.push("sub_option.tip.text",a.fireString(a,"parseTipText",[b,b.value,d],f||b.name+" "+a.getPercent(b.value)))},doConfig:function(){h.Chart.superclass.doConfig.call(this);var a=this._();h.Assert.isArray(a.data);a.T.strokeStyle(!0,a.get("brushsize"),a.get("strokeStyle"),a.get("lineJoin"));a.processAnimation=a.get("animation");a.push("communal_acting",0);a.duration=u(a.get("animation_duration")*h.FRAME/1E3);h.isFunction(a.get("doAnimation"))&&(a.doAnimation=a.get("doAnimation"));a.variable.animation={type:0,time:0,queue:[]};a.components=[];a.oneways=[];a.oneways.push(new iChart.Custom({drawFn:function(){a.T.box(0,0,a.width,a.height,a.get("border"),a.get("f_color"),0,true)}}));a.plugins.each(function(b){a.components.push(b)});a.applyGradient();a.animationArithmetic=h.getAA(a.get("animation_timing_function"));a.oneWay(a);a.push("r_originx",a.width-a.get("padding_right"));a.push("b_originy",a.height-a.get("padding_bottom"));var b=0,c=a.push("l_originx",a.get("padding_left")),d=a.push("t_originy",a.get("padding_top")),f=a.push("client_width",a.get("width")-a.get("hpadding"));h.isString(a.get("title"))&&a.push("title",h.applyIf({text:a.get("title")},a.default_.title));h.isString(a.get("subtitle"))&&a.push("subtitle",h.applyIf({text:a.get("subtitle")},a.default_.subtitle));h.isString(a.get("footnote"))&&a.push("footnote",h.applyIf({text:a.get("footnote")},a.default_.footnote));if(""!=a.get("title.text")){var g=""!=a.get("subtitle.text"),b=g?a.get("title.height")+a.get("subtitle.height"):a.get("title.height"),d=a.push("t_originy",d+b);a.push("title.originx",c);a.push("title.originy",a.get("padding_top"));a.push("title.width",f);a.title=new h.Text(a.get("title"),a);a.oneways.push(a.title);g&&(a.push("subtitle.originx",c),a.push("subtitle.originy",a.get("title.originy")+a.get("title.height")),a.push("subtitle.width",f),a.subtitle=new h.Text(a.get("subtitle"),a),a.oneways.push(a.subtitle))}""!=a.get("footnote.text")&&(g=a.get("footnote.height"),b+=g,a.push("b_originy",a.get("b_originy")-g),a.push("footnote.originx",c),a.push("footnote.originy",a.get("b_originy")),a.push("footnote.width",f),a.footnote=new h.Text(a.get("footnote"),a),a.oneways.push(a.footnote));b=a.push("client_height",a.get("height")-a.get("vpadding")-b);a.push("minDistance",x(f,b));a.push("maxDistance",w(f,b));a.push("minstr",f<b?"width":"height");a.push("centerx",c+f/2);a.push("centery",d+b/2);iChart.applyIf(a.get("sub_option"),iChart.clone("shadow,shadow_color,shadow_blur,shadow_offsetx,shadow_offsety,tip".split(","),a.options));a.get("legend.enable")&&(a.legend=new h.Legend(h.apply({maxwidth:f,data:a.data},a.get("legend")),a),a.components.push(a.legend));a.push("sub_option.tip.wrap",a.shell)}})})(iChart);