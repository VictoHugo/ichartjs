(function(f){var b=navigator.userAgent.toLowerCase(),c=Object.prototype.toString,d=/opera/.test(b),j=/\bchrome\b/.test(b),k=/webkit/.test(b),m=!j&&/safari/.test(b),p=!d&&/msie/.test(b),y=!!document.createElement("canvas").getContext,t=!k&&/gecko/.test(b),s=/ipod|ipad|iphone|android/gi.test(b),q=function(b,c,d,a){return d*b/a+c},u={easeIn:function(b,c,d,a){return d*(b/=a)*b*b+c},easeOut:function(b,c,d,a){return d*((b=b/a-1)*b*b+1)+c},easeInOut:function(b,c,d,a){return 1>(b/=a/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c}},n=function(b){var f=!1,C=!1,a=[],g=function(){if(document.addEventListener)return function(){document.removeEventListener("DOMContentLoaded",g,!1);e()};if(document.attachEvent)return function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",g),e())}}(),h=function(){if(!f){try{document.documentElement.doScroll("left")}catch(a){setTimeout(h,1);return}e()}},e=function(){if(!f){f=!0;for(var b=0;b<a.length;b++)a[b].call(document);a=[]}},B=function(){if(!C){C=!0;if("complete"===document.readyState)return setTimeout(e,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",g,!1),b.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",g);b.attachEvent("onload",e);var a=!1;try{a=null==b.frameElement}catch(T){}document.documentElement.doScroll&&a&&h()}}},z=function(b){B();f?b.call(document,i):a.push(function(){return b.call(this)})},i=function(a){if(!a||a.nodeType)return a;if("string"===typeof a)return-1!=a.indexOf("#")&&(a=a.substring(1)),document.getElementById(a);"function"===typeof a&&z(a)};i.apply=function(a,b){if(a&&b&&"object"==typeof b)for(var g in b)"undefined"!=typeof b[g]&&(a[g]=b[g]);if(!b&&a){var h={};for(g in a)h[g]=a[g];return h}return a};i.apply(i,{version:"1.0",email:"taylor@ichartjs.com",isEmpty:function(a,b){return null===a||void 0===a||i.isArray(a)&&!a.length||(!b?""===a:!1)},isArray:function(a){return"[object Array]"===c.apply(a)},isDate:function(a){return"[object Date]"===c.apply(a)},isObject:function(a){return!!a&&"[object Object]"===c.apply(a)},isFunction:function(a){return"[object Function]"===c.apply(a)},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isString:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isFalse:function(a){return"boolean"===typeof a&&!a},isElement:function(a){return a?!!a.tagName:!1},isDefined:function(a){return"undefined"!==typeof a}});i.applyIf=function(a,b){if(a&&i.isObject(b))for(var g in b)i.isDefined(b[g])&&!i.isDefined(a[g])&&(a[g]=b[g]);return!b&&a?i.apply(a):a};i.merge=function(a,b,g){if(a&&i.isObject(b)){for(var h in b)i.isDefined(b[h])&&(i.isObject(b[h])?i.isObject(a[h])?i.merge(a[h],b[h]):a[h]=i.clone(b[h],!0):a[h]=b[h]);if(i.isObject(g))return i.merge(a,g)}return a};i.clone=function(a,b,g){var h={};if(i.isArray(a)&&i.isObject(b))for(var e=0;e<a.length;e++)h[a[e]]=g&&i.isObject(b[a[e]])?i.clone(b[a[e]],g):b[a[e]];else if(i.isObject(a))for(e in a)h[e]=b&&i.isObject(a[e])&&!a[e].ICHARTJS_OBJECT?i.clone(a[e],b):a[e];return h};i.override=function(a,b){if(a&&b){var g=a.prototype;i.apply(g,b);i.isIE&&b.hasOwnProperty("toString")&&(g.toString=b.toString)}};i.extend=function(){var a=function(a){for(var b in a)this[b]=a[b]},b=Object.prototype.constructor;return function(g,h){var e=function(){g.apply(this,arguments)},c=function(){},d=g.prototype;c.prototype=d;c=e.prototype=new c;c.constructor=e;e.superclass=d;d.constructor==b&&(d.constructor=g);e.override=function(a){i.override(e,a)};c.superclass=c.supr=function(){return d};c.override=a;i.override(e,h);e.extend=function(a){return i.extend(e,a)};e.plugin_={};e.plugin=function(a,b){i.isString(a)&&i.isFunction(b)&&(e.plugin_[a]=b)};return e}}();var v=Math.sin,K=Math.cos,l=Math.atan,r=Math.sqrt,o=Math.abs,w=Math.PI,A=2*w,L=Math.ceil,D=Math.round,G=Math.floor,M=Math.max,N=Math.min,x=parseFloat,E={},H={},O=function(a,b){if(0==a)return a;var g=o(a),h=0.1;if(1<g){for(;1<g;)g/=10,h*=10;return G(a/h+b)*h}for(h=1;1>g;)g*=10,h*=10;return D(a*h+b)/h},P={white:"rgb(255,255,255)",green:"rgb(0,128,0)",gray:"rgb(80,80,80)",red:"rgb(255,0,0)",blue:"rgb(0,0,255)",yellow:"rgb(255,255,0)",black:"rgb(0,0,0)"},Q=function(a){var b=/rgb\((\w*),(\w*),(\w*)\)/.exec(a);if(b)return[b[1],b[2],b[3]];if(b=/rgba\((\w*),(\w*),(\w*),(.*)\)/.exec(a))return[b[1],b[2],b[3],b[4]];throw Error("invalid colors value '"+a+"'");},I=function(a){if(!a)return a;a=a.replace(/\s/g,"").toLowerCase();if(/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.exec(a)||/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0(\.\d*)?|1(\.0)?)\)$/.exec(a))return a;if(/^#(([a-fA-F0-9]{6,7})|([a-fA-F0-9]{3}))$/.exec(a))return a=a.replace(/#/g,"").replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"),(7==a.length?"rgba(":"rgb(")+parseInt(a.substring(0,2),16)+","+parseInt(a.substring(2,4),16)+","+parseInt(a.substring(4,6),16)+(7==a.length?",0."+a.substring(6,7)+")":")");if(P[a])return P[a];throw Error("invalid colors value '"+a+"'");},R=function(a,b){b=b||0.14;return 0.5<a?b-(1-a)/10:0.1<a?b-0.16+a/5:a>b?b:a/2},S=function(a,b,g,h){if(!b)return b;var b=Q(I(b)),e;e=b;var c=void 0,d=void 0;i.isArray(e)&&(c=e[1],d=e[2],e=e[0]);e/=255;var c=c/255,d=d/255,l=M(M(e,c),d),B=N(N(e,c),d),B=l-B;if(0==B)e=[0,0,l];else{var z;e==l?z=(c-d)/B:c==l?z=(d-e)/B+2:d==l&&(z=(e-c)/B+4);z*=60;0>z&&(z+=360);e=[z,B/l,l]}e[1]-=0!=h?h||0.05:h;a?(e[2]-=R(e[2],g),e[1]=i.upTo(e[1],1),e[2]=i.lowTo(e[2],0)):(e[2]+=R(1-e[2],g),e[1]=i.lowTo(e[1],0),e[2]=i.upTo(e[2],1));h=b[3];a=b=void 0;i.isArray(e)&&(a=h,h=e[1],b=e[2],e=e[0]);var f,j,v,g=G(e/60)%6,d=e/60-g;e=b*(1-h);c=b*(1-h*d);h=b*(1-h*(1-d));switch(g){case 0:f=b;j=h;v=e;break;case 1:f=c;j=b;v=e;break;case 2:f=e;j=b;v=h;break;case 3:f=e;j=c;v=b;break;case 4:f=h;j=e;v=b;break;case 5:f=b,j=e,v=c}return"rgb"+(a?"a":"")+"("+D(255*f)+","+D(255*j)+","+D(255*v)+(a?","+a+")":")")};i.apply(i,{getFont:function(a,b,g,e){return a+" "+b+(e||"px")+" "+g},getDoc:function(){return b.contentWindow?b.contentWindow.document:b.contentDocument?b.contentDocument:b.document},DefineAbstract:function(a,b){if(!b[a])throw Error("Cannot instantiate the type '"+b.type+"'.you must implements it with method '"+a+"'.");},getAA:function(a){return"linear"==a?q:"easeInOut"==a||"easeIn"==a||"easeOut"==a?u[a]:q},noConflict:function(){return n},plugin:function(a,b,g){i.isFunction(a)&&a.plugin(b,g)},parsePadding:function(a,b){a=a||0;if(i.isNumber(a))return[a,a,a,a];if(i.isArray(a))return a;b=b||0;a=a.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g,/\s/).replace(/\s/g,",").split(",");1==a.length?a[0]=a[1]=a[2]=a[3]=x(a[0])||b:2==a.length?(a[0]=a[2]=x(a[0])||b,a[1]=a[3]=x(a[1])||b):3==a.length?(a[0]=x(a[0])||b,a[1]=a[3]=x(a[1])||b,a[2]=x(a[2])||b):(a[0]=x(a[0])||b,a[1]=x(a[1])||b,a[2]=x(a[2])||b,a[3]=x(a[3])||b);return a},distanceP2P:function(a,b,g,e){return r((g-a)*(g-a)+(e-b)*(e-b))},atan2Radian:function(a,b,g,e){if(a==g)return e>b?w/2:3*w/2;if(b==e)return g>a?0:w;var h=i.quadrant(a,b,g,e),a=l(o((b-e)/(a-g)));return h?(3==h?A:w)+(2==h?a:-a):a},angle2Radian:function(a){return a*w/180},radian2Angle:function(a){return 180*a/w},quadrant:function(a,b,g,e){return a<g?b<e?0:3:b<e?1:2},toPI2:function(a){for(;0>a;)a+=A;return a},visible:function(a,b,g){if(a>=b)return[];var e=i.quadrantd(a),h=i.quadrantd(b);if((2==e||3==e)&&(2==h||3==h)&&b-a<w)return[];a=i.toPI2(a);b=i.toPI2(b);b<=a&&(b+=A);if(a>w)a=A;else{if(b>A)return[{s:a,e:w,f:g},{s:A,e:b,f:g}];b>w&&(b=w)}return{s:a,e:b,f:g}},quadrantd:function(a){if(0==a)return 0;if(0==a%A)return 3;for(;0>a;)a+=A;return L(2*(a%A)/w)-1},upTo:function(a,b){return b>a?a:b},lowTo:function(a,b){return b<a?a:b},between:function(a,b,g){return a>b?i.between(b,a,g):g>b?b:g<a?a:g},inRange:function(a,b,g){return b>g&&a<g},angleInRange:function(a,b,g){g-=a;g=0>g?g+A:g;g%=A;return b-a>g},angleZInRange:function(a,b,g){return b<a?g>a||g<b:b>g&&a<g},inRangeClosed:function(a,b,g){return b>=g&&a<=g},inEllipse:function(a,b,g,e){return 1>=a*a/g/g+b*b/e/e},p2Point:function(a,b,g,e){return{x:a+K(g)*e,y:b+v(g)*e}},toRgb:I,toRgba:function(a,b){var g=Q(I(a));return"rgba("+g[0]+","+g[1]+","+g[2]+","+b+")"},vectorP2P:function(a,b,g){g||(b=i.angle2Radian(b),a=i.angle2Radian(a));b=v(b);return{x:b*v(a),y:b*K(a)}},uid:function(a){return(a||"ichartjs")+"_"+L(1E4*Math.random())+(new Date).getTime().toString().substring(4)},register:function(a){if(i.isString(a))H[a.toLowerCase()]=a;else{var b=a.get("id");if(!b||""==b){for(b=i.uid(a.type);E[b];)b=i.uid(a.type);a.push("id",b)}if(E[b])throw Error("exist reduplicate id :"+b);a.id=b;E[b]=a}},create:function(a){if(!a.type||!H[a.type])throw Error("TypeNotFoundException["+a.type+"]");return new i[H[a.type]](a)},get:function(a){return E[a]},isPercent:function(a){return i.isString(a)&&a.match(/(.*)%/)},parsePercent:function(a,b){i.isString(a)&&(a=a.match(/(.*)%/))&&(a=b?G(x(a[1])*b/100):a[1]/100);return!a||0>=a||a>b?b:a},parseFloat:function(a,b){if(!i.isNumber(a)&&(a=x(a),!i.isNumber(a)))throw Error("["+b+"]="+a+"is not a valid number.");return a},ceil:function(a){return O(a,1)},floor:function(a){return O(a,-1)},_2D:"2d",_3D:"3d",light:function(a,b,g){return S(!1,a,b,g)},dark:function(a,b,g){return S(!0,a,b,g)},fixPixel:function(a){return i.isNumber(a)?a:x(a.replace("px",""))||0},toPixel:function(a){return i.isNumber(a)?a+"px":i.fixPixel(a)+"px"},emptyFn:function(){return!0},supportCanvas:y,isOpera:d,isWebKit:k,isChrome:j,isSafari:m,isIE:p,isGecko:t,isMobile:s,touch:"ontouchend"in document,FRAME:s?30:60});i.Assert={isTrue:function(a,b){if(!0!==a)throw Error(b);}};i.requestAnimFrame=function(){var a=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1E3/60)};return function(b){a(b)}}();i.Event={addEvent:function(a,b,g,e){a.addEventListener?a.addEventListener(b,g,e):a.attachEvent?a.attachEvent("on"+b,g):a["on"+b]=g},fix:function(a){"undefined"==typeof a&&(a=b.event);var g={target:a.target,pageX:a.pageX,pageY:a.pageY,offsetX:a.offsetX,offsetY:a.offsetY,stopPropagation:!1,event:a};if("undefined"==typeof a.offsetX){a.target||(g.target=a.srcElement||document);a.targetTouches&&(g.pageX=a.targetTouches[0].pageX,g.pageY=a.targetTouches[0].pageY);if(null==g.pageX&&null!=a.clientX){var e=document.documentElement,h=document.body;g.pageX=a.clientX+(e&&e.scrollLeft||h&&h.scrollLeft||0)-(e&&e.clientLeft||h&&h.clientLeft||0);g.pageY=a.clientY+(e&&e.scrollTop||h&&h.scrollTop||0)-(e&&e.clientTop||h&&h.clientTop||0)}for(var h=e=0,c=a.target;c!=document.body&&c;)e+=c.offsetLeft-(c.scrollLeft||0),h+=c.offsetTop,c=c.offsetParent;g.offsetX=g.pageX-e;g.offsetY=g.pageY-h}g.x=g.offsetX;g.y=g.offsetY;a.stopPropagation||(a.stopPropagation=function(){b.event.cancelBubble=true});return g}};return i}(f);Array.prototype.each=function(b,c){for(var d=this.length,a,g=0;g<d&&!(a=c?b.call(c,this[g],g):b(this[g],g),"boolean"===typeof a&&!a);g++);return this};Array.prototype.eachAll=function(b,c){this.each(function(d,a){return n.isArray(d)?d.eachAll(b,c):c?b.call(c,d,a):b(d,a)},c)};Array.prototype.sor=function(b){for(var c=this.length-1,d,a=0;a<c;a++)for(var g=c;g>a;g--)if(b?!b(this[g],this[g-1]):this[g]<this[g-1])d=this[g],this[g]=this[g-1],this[g-1]=d};f.iChart=n;f.$||(f.$=f.iChart)})(window);(function(f){f.Element=function(b){var c=this._();c.type="element";c.ICHARTJS_OBJECT=!0;f.DefineAbstract("configure",c);f.DefineAbstract("afterConfiguration",c);c.options={};c.set({border:{enable:!1,color:"#BCBCBC",style:"solid",width:1,radius:0},shadow:!1,shadow_color:"#666666",shadow_blur:4,shadow_offsetx:0,shadow_offsety:0});c.W="width";c.H="height";c.O="top";c.B="bottom";c.L="left";c.R="right";c.C="center";c.X="originx";c.Y="originy";c.variable={};c.events={mouseup:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],dblclick:[]};c.registerEvent("initialize");c.initialization=!1;c.configure.apply(c,Array.prototype.slice.call(arguments,1));c.default_=f.clone(c.options,!0);c.set(b);c.afterConfiguration(c)};f.Element.prototype={_:function(){return this},afterConfiguration:function(b){if(f.isObject(b.get("listeners")))for(var c in b.get("listeners"))b.on(c,b.get("listeners")[c]);b.initialize();b.fireEvent(b,"initialize",[b])},registerEvent:function(){for(var b=0;b<arguments.length;b++)this.events[arguments[b]]=[]},fireString:function(b,c,d,j){b=this.fireEvent(b,c,d);return f.isString(b)?b:!0!==b&&f.isDefined(b)?b.toString():j},fireEvent:function(b,c,d){var f=this.events[c].length;if(1==f)return this.events[c][0].apply(b,d);for(var k=!0,m=0;m<f;m++)this.events[c][m].apply(b,d)||(k=!1);return k},on:function(b,c){f.isString(b)&&f.isArray(this.events[b])?this.events[b].push(c):f.isArray(b)&&b.each(function(b){this.on(b,c)},this);return this},getPlugin:function(b){return this.constructor.plugin_[b]},set:function(b){f.isObject(b)&&f.merge(this.options,b)},pushIf:function(b,c){return!f.isDefined(this.get(b))||null==this.get(b)?this.push(b,c):this.get(b)},push:function(b,c){for(var d=b.split("."),f=d.length-1,k=this.options,m=0;m<f;m++)k[d[m]]||(k[d[m]]={}),k=k[d[m]];return k[d[f]]=c},get:function(b){for(var b=b.split("."),c=this.options[b[0]],d=1;d<b.length;d++){if(!c)return null;c=c[b[d]]}return c}};f.Html=f.extend(f.Element,{configure:function(b){this.type="html";this.T=b;f.DefineAbstract("beforeshow",this);this.set({animation:!0,default_action:!0,width:0,height:0,style:"",index:999,offset_top:0,offset_left:0});this.transitions=""},initialize:function(){var b=this._();b.wrap=b.get("wrap");b.dom=document.createElement("div");b.get("shadow")&&b.css("boxShadow",b.get("shadow_offsetx")+"px "+b.get("shadow_offsety")+"px "+b.get("shadow_blur")+"px "+b.get("shadow_color"));b.get("border.enable")&&(b.css("border",b.get("border.width")+"px "+b.get("border.style")+" "+b.get("border.color")),b.css("borderRadius",b.get("border.radius")+"px"));b.css("position","absolute");b.css("zIndex",b.get("index"));b.applyStyle();b.wrap.appendChild(b.dom);b.style=b.dom.style;b.get("default_action")&&b.doAction(b)},width:function(){return this.dom.offsetWidth},height:function(){return this.dom.offsetHeight},onTransitionEnd:function(b,c){var d="transitionend";f.isWebKit?d="webkitTransitionEnd":f.isOpera&&(d="oTransitionEnd");f.Event.addEvent(this.dom,d,b,c)},destroy:function(){this.wrap.removeChild(this.dom);this.dom=null},transition:function(b){this.transitions=""==this.transitions?b:this.transitions+","+b;f.isWebKit?this.css("WebkitTransition",this.transitions):f.isGecko?this.css("MozTransition",this.transitions):f.isOpera?this.css("OTransition",this.transitions):this.css("transition",this.transitions)},beforeshow:function(b,c,d){d.follow(b,c,d)},show:function(b,c){this.beforeshow(b,c,this);this.css("visibility","visible");this.get("animation")&&this.css("opacity",1)},hidden:function(){this.css("visibility","hidden")},getDom:function(){return this.dom},css:function(b,c){if(f.isString(b))if(f.isDefined(c))this.dom.style[b]=c;else return this.dom.style[b]},applyStyle:function(){for(var b=this.get("style").split(";"),c,d=0;d<b.length;d++)c=b[d].split(":"),1<c.length&&this.css(c[0],c[1])}});f.Painter=f.extend(f.Element,{configure:function(){this.type="painter";this.dimension=f._2D;f.DefineAbstract("commonDraw",this);f.DefineAbstract("initialize",this);this.set({strokeStyle:"gray",padding:10,color:"black",offsetx:0,offsety:0,background_color:"#FEFEFE",color_factor:0.15,style:"",border:{enable:!0},gradient:!1,gradient_mode:"LinearGradientUpDown",z_index:0,listeners:null,originx:null,originy:null});this.variable.event={mouseover:!1};this.variable.animation={};this.registerEvent("click","mousemove","mouseover","mouseout","beforedraw","draw")},is3D:function(){return this.dimension==f._3D},applyGradient:function(b,c,d,f){var k=this._();k.get("gradient")&&k.get("f_color")&&(k.push("f_color",k.T.gradient(b||k.x||0,c||k.y||0,d||k.get(k.W),f||k.get(k.H),[k.get("dark_color"),k.get("light_color")],k.get("gradient_mode"))),k.push("light_color",k.T.gradient(b||k.x||0,c||k.y||0,d||k.get(k.W),f||k.get(k.H),[k.get("background_color"),k.get("light_color")],k.get("gradient_mode"))),k.push("f_color_",k.get("f_color")))},draw:function(b,c){if(c)this.root.draw(b);else{if(!this.fireEvent(this,"beforedraw",[this,b]))return this;this.commonDraw(this,b);this.fireEvent(this,"draw",[this,b])}},inject:function(b){b&&(this.root=b,this.target=this.T=b.T)},doConfig:function(){var b=this._(),c=f.parsePadding(b.get("padding")),d=b.get("border.enable"),d=d?f.parsePadding(b.get("border.width")):[0,0,0,0],j=f.toRgb(b.get("background_color")),k=b.get("color_factor"),m=b.get("gradient")?0:null;b.set({border_top:d[0],border_right:d[1],border_bottom:d[2],border_left:d[3],hborder:d[1]+d[3],vborder:d[0]+d[2],padding_top:c[0]+d[0],padding_right:c[1]+d[1],padding_bottom:c[2]+d[2],padding_left:c[3]+d[3],hpadding:c[1]+c[3]+d[1]+d[3],vpadding:c[0]+c[2]+d[0]+d[2]});b.push("f_color",j);b.push("f_color_",j);b.push("light_color",f.light(j,k,m));b.push("dark_color",f.dark(j,0.8*k,m));b.push("light_color2",f.light(j,2*k,m));b.is3D()&&!b.get("xAngle_")&&(c=f.vectorP2P(b.get("xAngle"),b.get("yAngle")),b.push("xAngle_",c.x),b.push("yAngle_",c.y))}});f.Component=f.extend(f.Painter,{configure:function(b){f.Component.superclass.configure.apply(this,arguments);this.type="component";this.set({fontsize:12,font:"Verdana",fontweight:"normal",fontunit:"px",tip:{enable:!1,border:{width:2}}});this.ICHARTJS_CHART=this.proxy=this.atomic=!1;this.inject(b)},initialize:function(){f.DefineAbstract("isEventValid",this);f.DefineAbstract("doDraw",this);this.doConfig();this.initialization=!0},getDimension:function(){return{x:this.x,y:this.y,width:this.get("width"),height:this.get("height")}},destroy:function(){this.tip&&this.tip.destroy()},doConfig:function(){f.Component.superclass.doConfig.call(this);var b=this._(),c=b.get(b.W),d=b.get("maxwidth"),j=b.get(b.X);if(c&&d&&(c=b.push(b.W,f.parsePercent(c,d)),c>d&&(c=b.push("width",d)),d>c)){var k=b.get("align")||b.C;k==b.C?j+=(d-c)/2:k==b.R&&(j+=d-c)}b.x=b.push(b.X,j+b.get("offsetx"));b.y=b.push(b.Y,b.get(b.Y)+b.get("offsety"));b.push("fontStyle",f.getFont(b.get("fontweight"),b.get("fontsize"),b.get("font"),b.get("fontunit")));b.data=b.get("data");b.get("tip.enable")&&(b.pushIf("tip.border.color",b.get("f_color")),f.isFunction(b.get("tip.invokeOffset"))||b.push("tip.invokeOffset",b.tipInvoke()))},isMouseOver:function(b){return this.isEventValid(b,this)},redraw:function(b){this.root.draw(b,this.root.Combination)},last:f.emptyFn,commonDraw:function(b){b.proxy||b.doDraw.call(b,b)}});f.Custom=f.extend(f.Component,{configure:function(){f.Custom.superclass.configure.apply(this,arguments);this.type="custom";this.set({drawFn:f.emptyFn,configFn:f.emptyFn,eventValid:void 0,animating_draw:!0})},doDraw:function(b){b.get("drawFn").call(b,b)},isEventValid:function(b,c){return f.isFunction(this.get("eventValid"))?this.get("eventValid").call(this,b,c):{valid:!1}},doConfig:function(){f.Custom.superclass.doConfig.call(this);var b=this._();b.A_draw=b.get("animating_draw");b.variable.animation={animating:!1,time:0};b.duration=0;b.get("configFn").call(b,b)}});(function(b){function c(a){"string"===typeof a&&(a=b(a));if(!a||!a.tagName||"canvas"!=a.tagName.toLowerCase())throw Error("there not a canvas element");this.canvas=a;this.c=this.canvas.getContext("2d")}var d=Math.PI,f=d/90,k=f/2,m=Math.ceil,p=Math.floor,y=2*d,t=Math.max,s=Math.min,q=Math.sin,u=Math.cos,n=function(a,b){return 1==a?p(b)+0.5:Math.round(b)},J=function(a,b,h,e){var c=b.x,d=b.y,i=a[h-1],f=a[h+1],j,l;if(h<a.length-1){var a=i.y,h=f.y,r;j=(e*c+i.x)/(e+1);l=(e*d+a)/(e+1);f=(e*c+f.x)/(e+1);e=(e*d+h)/(e+1);r=(e-l)*(f-c)/(f-j)+d-e;l+=r;e+=r;l>a&&l>d?(l=t(a,d),e=2*d-l):l<a&&l<d&&(l=s(a,d),e=2*d-l);e>h&&e>d?(e=t(h,d),l=2*d-e):e<h&&e<d&&(e=s(h,d),l=2*d-e);b.rcx=f;b.rcy=e}return[i.rcx||i.x,i.rcy||i.y,j||c,l||d,c,d]},F=function(a){return b.isNumber(a)?a:b.parseFloat(a,a)},C=function(a,g){var h,e=0,c,d=0,i=!1,f=g.get("labels");g.data=a;if("simple"==g.dataType)g.total=0,a.each(function(a){a.background_color=a.color;e=a.value||0;if(b.isArray(e)){var l=0;d=e.length>d?e.length:d;for(var f=0;f<e.length;f++)e[f]=F(e[f]),l+=e[f],i||(h=c=e[f],i=!0),h=t(e[f],h),c=s(e[f],c);a.total=l}else e=F(e),a.value=e,g.total+=e,i||(h=c=e,i=!0),h=t(e,h),c=s(e,c)},g),b.isArray(f)&&(d=f.length>d?f.length:d),g.push("maxItemSize",d);else if("stacked"==g.dataType||"complex"==g.dataType){var j=f.length,l,r,o,k="stacked"==g.dataType;if(0==j)for(var j=a[0].value.length,m=0;m<j;m++)f.push("");g.columns=[];for(m=0;m<j;m++)l=[],r=0,a.each(function(g,d){if(e=g.value[m])g.value[m]=e=F(e,e),r+=e,k?o=a[d].color:(o=g.color,i||(h=c=e,i=!0),h=t(e,h),c=s(e,c)),l.push(b.applyIf({name:g.name,value:g.value[m],background_color:o,color:o},b.isArray(g.extra)?g.extra[m]||{}:g))}),k&&(i||(h=c=e,i=!0),h=t(r,h),c=s(r,c)),g.columns.push({total:r,name:f[m],item:l})}g.push("minValue",c);g.push("maxValue",h);g.doConfig();g.initialization=!0};c.prototype={getContext:function(){return this.c},css:function(a,g){if(b.isDefined(g))this.canvas.style[a]=g;else return this.canvas.style[a]},ellipse:function(a,b,h,e,c,d,i,v,k,l,r,o,m,n){m=!!m;this.save().gCo(n).strokeStyle(v,k,l).shadowOn(r).fillStyle(i).moveTo(a,b).beginPath();for(m&&this.moveTo(a,b);c<=d;)this.lineTo(a+h*u(c),b+e*q(c)),c+=f;return this.lineTo(a+h*u(d),b+e*q(d)).closePath().stroke(v).fill(i).restore()},arc:function(a,b,h,e,c,d,i,f,j,l,r,k,m,n){f&&(h-=p(j/2));if(0>=h)return this;this.save().gCo(n).strokeStyle(f,j,l).fillStyle(i).beginPath();e?(this.moveTo(a+u(c)*(h-e),b+q(c)*(h-e)).lineTo(a+u(c)*h,b+q(c)*h),this.c.arc(a,b,h,c,d,k),this.lineTo(a+u(d)*(h-e),b+q(d)*(h-e)),this.c.arc(a,b,h-e,d,c,!k)):(this.c.arc(a,b,h,c,d,k),m&&this.lineTo(a,b));this.closePath();f?this.shadowOn(r).stroke(f).shadowOff().fill(i):this.shadowOn(r).fill(i);return this.restore()},sector:function(a,b,h,e,c,d,i,f,j,l,k,o,m,n){k&&this.arc(a,b,h,e,c,d,i,f,j,l,k,o,!m,!n);return this.arc(a,b,h,e,c,d,i,f,j,l,!1,o,!m)},sector3D:function(){var a=function(a,g,e,h,c,d,k,m,n){var k=function(b,c){this.lineTo(a+e*u(b),g+(c||0)+h*q(b))},p=c;for(this.fillStyle(b.dark(n)).moveTo(a+e*u(c),g+h*q(c)).beginPath();p<=d;)k.call(this,p),p+=f;k.call(this,d);this.lineTo(a+e*u(d),g+m+h*q(d));for(p=d;p>=c;)k.call(this,p,m),p-=f;k.call(this,c,m);this.lineTo(a+e*u(c),g+h*q(c)).closePath().fill(!0)},g=function(a,b,g,e,h,c,d,f){g=a+g*u(d);e=b+c+e*q(d);this.moveTo(a,b).beginPath().fillStyle(f).lineTo(a,b+c).lineTo(g,e).lineTo(g,e-c).lineTo(a,b).closePath().fill(!0)},h=function(a,e,h,c,d,l,f,j,k){var m=b.quadrantd(d),n=b.quadrantd(l),k=b.dark(k);(1==m||2==m)&&g.call(this,a,e,h,c,f,j,d,k);(0==n||3==n)&&g.call(this,a,e,h,c,f,j,l,k)},e=function(b,g,e,c,d,l,f,j,k,m,n,p,q){this.ellipse(b,g+f,e,c,d,l,j,k,m,n,p,q,!0);h.call(this,b,g,e,c,d,l,q,f,j);this.ellipse(b,g,e,c,d,l,j,k,m,n,!1,q,!0);a.call(this,b,g,e,c,d,l,q,f,j);return this};e.layerPaint=h;e.sPaint=a;e.layerDraw=g;return e}(),textStyle:function(a,b,h){return this.textAlign(a).textBaseline(b).textFont(h)},strokeStyle:function(a,b,h,e){if(a&&(b&&(this.c.lineWidth=b),h&&(this.c.strokeStyle=h),e))this.c.lineJoin=e;return this},globalAlpha:function(a){a&&(this.c.globalAlpha=a);return this},fillStyle:function(a){a&&(this.c.fillStyle=a);return this},arc2:function(a,b,h,e,c,d){h&&this.c.arc(a,b,h,e,c,d);return this},textAlign:function(a){a&&(this.c.textAlign=a);return this},textBaseline:function(a){a&&(this.c.textBaseline=a);return this},textFont:function(a){a&&(this.c.font=a);return this},shadowOn:function(a){a&&(this.c.shadowColor=a.color,this.c.shadowBlur=a.blur,this.c.shadowOffsetX=a.offsetx,this.c.shadowOffsetY=a.offsety);return this},shadowOff:function(){this.c.shadowColor="white";this.c.shadowBlur=this.c.shadowOffsetX=this.c.shadowOffsetY=0;return this},gradient:function(a,b,h,e,c,d,i){var d=d.toLowerCase(),f=a,j=b,l=!d.indexOf("linear"),d=d.substring(14);if(l){switch(d){case "updown":j+=e;break;case "downup":b+=e;break;case "leftright":f+=h;break;case "rightleft":a+=h;break;default:return c[0]}return this.avgLinearGradient(a,b,f,j,c)}a+=h/2;b+=e/2;return this.avgRadialGradient(a,b,i||0,a,b,h>e?e:h,"outin"==d?c.reverse():c)},avgLinearGradient:function(a,b,h,e,c){a=this.createLinearGradient(a,b,h,e);for(b=0;b<c.length;b++)a.addColorStop(b/(c.length-1),c[b]);return a},createLinearGradient:function(a,b,h,e){return this.c.createLinearGradient(a,b,h,e)},avgRadialGradient:function(a,b,h,e,c,d,i){a=this.createRadialGradient(a,b,h,e,c,d);for(b=0;b<i.length;b++)a.addColorStop(b/(i.length-1),i[b]);return a},createRadialGradient:function(a,b,h,e,c,d){return this.c.createRadialGradient(a,b,h,e,c,d)},text:function(a,b,h,e,c,d,i,f,j,l,k,m){return this.save().textStyle(d,i,f).fillText(a,b,h,e,c,j,l,k,m).restore()},fillText:function(a,b,h,e,c,d,f,j,m){a=a.toString();if(!a||!a.length)return this;e=e||!1;d=d||"lr";f=f||16;b=n(0,b);h=n(0,h);a=a.split("tb"==d?"":"\n");1<a.length&&("middle"==this.c.textBaseline?h-=(a.length-1)*f/2:"bottom"==this.c.textBaseline&&(h-=(a.length-1)*f));this.save().fillStyle(c).translate(b,h).rotate(k*m).shadowOn(j);a.each(function(a,c){try{e&&0<e?this.c.fillText(a,0,c*f,e):this.c.fillText(a,0,c*f)}catch(d){console.log(d.message+"["+a+","+b+","+h+"]")}},this);return this.restore()},measureText:function(a){var a=a.split("\n"),b=0;a.each(function(a){b=t(this.measureText(a).width,b)},this.c);return b},moveTo:function(a,b){this.c.moveTo(a||0,b||0);return this},lineTo:function(a,b){this.c.lineTo(a||0,b||0);return this},save:function(){this.c.save();return this},restore:function(){this.c.restore();return this},beginPath:function(){this.c.beginPath();return this},closePath:function(){this.c.closePath();return this},stroke:function(a){a&&this.c.stroke();return this},fill:function(a){a&&this.c.fill();return this},cube:function(a,g,h,e,c,d,f,j,k,l,m,o){a=n(l,a);g=n(l,g);f=f&&0<f?f:c;e=g-f*e;h=n(l,a+f*h);e=n(l,e);o&&(this.polygon(j,k,l,m,o,!1,[{x:a,y:g},{x:h,y:e},{x:h+c,y:e},{x:a+c,y:g}]),this.polygon(j,k,l,m,o,!1,[{x:a,y:g},{x:a,y:g+d},{x:a+c,y:g+d},{x:a+c,y:g}]),this.polygon(j,k,l,m,o,!1,[{x:a+c,y:g},{x:h+c,y:e},{x:h+c,y:e+d},{x:a+c,y:g+d}]));this.polygon(b.dark(j),k,l,m,!1,!1,[{x:a,y:g},{x:h,y:e},{x:h+c,y:e},{x:a+c,y:g}]);this.polygon(j,k,l,m,!1,!1,[{x:a,y:g},{x:a,y:g+d},{x:a+c,y:g+d},{x:a+c,y:g}]);this.polygon(b.dark(j),k,l,m,!1,!1,[{x:a+c,y:g},{x:h+c,y:e},{x:h+c,y:e+d},{x:a+c,y:g+d}]);return this},cube3D:function(a,g,c,e,d,f,i,j,k,l,m,o){a=n(l,a);g=n(l,g);j=!j||0==j?f:j;d?(e=b.vectorP2P(c,e),c=a+j*e.x,e=g-j*e.y):(c=a+j*c,e=g-j*e);for(;6>o.length;)o.push(!1);c=n(l,c);e=n(l,e);j=[];0>e?b.isObject(o[4])&&j.push(b.applyIf({points:[{x:a,y:g-i},{x:c,y:e-i},{x:c+f,y:e-i},{x:a+f,y:g-i}]},o[4])):b.isObject(o[0])&&j.push(b.applyIf({points:[{x:a,y:g},{x:c,y:e},{x:c+f,y:e},{x:a+f,y:g}]},o[0]));b.isObject(o[1])&&j.push(b.applyIf({points:[{x:c,y:e},{x:c,y:e-i},{x:c+f,y:e-i},{x:c+f,y:e}]},o[1]));b.isObject(o[2])&&j.push(b.applyIf({points:[{x:a,y:g},{x:a,y:g-i},{x:c,y:e-i},{x:c,y:e}]},o[2]));b.isObject(o[3])&&j.push(b.applyIf({points:[{x:a+f,y:g},{x:a+f,y:g-i},{x:c+f,y:e-i},{x:c+f,y:e}]},o[3]));0>e?b.isObject(o[0])&&j.push(b.applyIf({points:[{x:a,y:g},{x:c,y:e},{x:c+f,y:e},{x:a+f,y:g}]},o[0])):b.isObject(o[4])&&j.push(b.applyIf({points:[{x:a,y:g-i},{x:c,y:e-i},{x:c+f,y:e-i},{x:a+f,y:g-i}]},o[4]));b.isObject(o[5])&&j.push(b.applyIf({points:[{x:a,y:g},{x:a,y:g-i},{x:a+f,y:g-i},{x:a+f,y:g}]},o[5]));j.each(function(a){this.polygon(a.color,k,l,m,a.shadow,a.alpha,a.points)},this);return this},polygon:function(a,b,c,e,d,f,i,j,k,l){this.save().strokeStyle(b,c,e).beginPath().fillStyle(a).globalAlpha(f).shadowOn(d).moveTo(i[0].x,i[0].y);if(j){this.moveTo(n(c,l[0].x),n(c,l[0].y)).lineTo(n(c,i[0].x),n(c,i[0].y));for(e=1;e<i.length;e++)this.bezierCurveTo(J(i,i[e],e,k));this.lineTo(n(c,l[1].x),n(c,l[1].y))}else for(e=1;e<i.length;e++)this.lineTo(n(c,i[e].x),n(c,i[e].y));return this.closePath().stroke(b).fill(a).restore()},lines:function(a,b,c,e){if(!b)return this;this.save().gCo(e).beginPath().strokeStyle(!0,b,c).moveTo(n(b,a[0]),n(b,a[1]));for(c=2;c<a.length-1;c+=2)this.lineTo(n(b,a[c]),n(b,a[c+1]));return this.stroke(!0).restore()},bezierCurveTo:function(a){this.c.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);return this},label:function(a,b,c){return this.save().beginPath().strokeStyle(!0,b,c).moveTo(n(b,a[0].x),n(b,a[0].y)).bezierCurveTo([a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y]).stroke(!0).restore()},lineArray:function(a,b,c,e,d){if(!b)return this;this.save().beginPath().strokeStyle(!0,b,c).moveTo(n(b,a[0].x),n(b,a[0].y));for(c=1;c<a.length;c++)e?this.bezierCurveTo(J(a,a[c],c,d||1.5)):this.lineTo(n(b,a[c].x),n(b,a[c].y));return this.stroke(!0).restore()},dotted:function(a,c,d,e,f,j,i,k,m){if(!f)return this;var a=n(f,a),c=n(f,c),d=n(f,d),e=n(f,e),l=b.distanceP2P(a,c,d,e),r;if(0>=i||l<=i||a!=d&&c!=e)return this.line(a,c,d,e,f,j,m);if(a>d||c>e)r=a,a=d,d=r,r=c,c=e,e=r;this.save().gCo(m).strokeStyle(!0,f,j).beginPath().moveTo(a,c);f=i*(k||1);j=p(l/(i+f));l=l-j*(i+f)>i;k=c==e;j=l?j+1:j;for(m=1;m<=j;m++)this.lineTo(k?a+i*m+f*(m-1):a,k?c:c+i*m+f*(m-1)).moveTo(k?a+(i+f)*m:a,k?c:c+(i+f)*m);l||this.lineTo(d,e);return this.stroke(!0).restore()},line:function(a,b,c,e,d,f,j){if(!d)return this;this.save().gCo(j);return this.beginPath().strokeStyle(!0,d,f).moveTo(n(d,a),n(d,b)).lineTo(n(d,c),n(d,e)).stroke(!0).restore()},round:function(a,b,c,e,d,f){return this.arc(a,b,c,0,0,y,e,!!f,d,f)},round0:function(a,b,c,e,d){return this.arc(a.x,a.y,b,0,0,y,c,!!d,e,d)},fillRect:function(a,b,c,e){this.c.fillRect(a,b,c,e);return this},translate:function(a,b){this.c.translate(a,b);return this},rotate:function(a){this.c.rotate(a);return this},clearRect:function(a,b,c,e){c=c||this.canvas.width;e=e||this.canvas.height;this.c.clearRect(a||0,b||0,c,e);return this},gCo:function(a){return a?this.gCO(a):this},gCO:function(a){this.c.globalCompositeOperation=a?"destination-over":"source-over";return this},box:function(a,c,h,e,f,j,i,k,q){f=f||{enable:0};if(f.enable){var l=f.width,r=f.color,o=f.radius,s=b.isNumber(l),l=b.parsePadding(l);l[0]==l[1]&&l[1]==l[2]&&l[2]==l[3]&&(s=!0);k=k?1:-1;h+=k*(l[1]+l[3])/2;e+=k*(l[0]+l[2])/2;a-=k*(l[3]/2);c-=k*(l[0]/2);l=s?l[0]:l;o=!s||!o||0==o||"0"==o?0:b.parsePadding(o)}this.save().gCo(q).fillStyle(j).strokeStyle(s,l,r);o?this.beginPath().moveTo(n(l,a+o[0]),n(l,c)).lineTo(n(l,a+h-o[1]),n(l,c)).arc2(n(l,a+h-o[1]),n(l,c+o[1]),o[1],3*d/2,y).lineTo(n(l,a+h),n(l,c+e-o[2])).arc2(n(l,a+h-o[2]),n(l,c+e-o[2]),o[2],0,d/2).lineTo(n(l,a+o[3]),n(l,c+e)).arc2(n(l,a+o[3]),n(l,c+e-o[3]),o[3],d/2,d).lineTo(n(l,a),n(l,c+o[0])).arc2(n(l,a+o[0]),n(l,c+o[0]),o[0],d,3*d/2).closePath().shadowOn(i).stroke(l).shadowOff().fill(j):!f.enable||s?(l&&f.enable&&(this.shadowOn(i).c.strokeRect(a,c,h,e),this.shadowOff()),j&&this.fillRect(a,c,h,e)):(l&&(r=b.isArray(r)?r:[r,r,r,r],this.shadowOn(i).line(a+h,c+l[0]/2,a+h,c+e-l[0]/2,l[1],r[1],0).line(a,c+l[0]/2,a,c+e-l[0]/2,l[3],r[3],0).line(p(a-l[3]/2),c,a+h+l[1]/2,c,l[0],r[0],0).line(p(a-l[3]/2),c+e,a+h+l[1]/2,c+e,l[2],r[2],0).shadowOff()),j&&this.beginPath().moveTo(p(a+l[3]/2),p(c+l[0]/2)).lineTo(m(a+h-l[1]/2),c+l[0]/2).lineTo(m(a+h-l[1]/2),m(c+e-l[2]/2)).lineTo(p(a+l[3]/2),m(c+e-l[2]/2)).lineTo(p(a+l[3]/2),p(c+l[0]/2)).closePath().fill(j));return this.restore()},toDataURL:function(a){return this.canvas.toDataURL(a||"image/png")},addEvent:function(a,c,d){b.Event.addEvent(this.canvas,a,c,d)}};b.taylor={light:function(a,b){b.highlight=!1;a.on("mouseover",function(){b.highlight=!0;a.redraw("mouseover")}).on("mouseout",function(){b.highlight=!1;a.redraw("mouseout")}).on("beforedraw",function(){a.push("f_color",b.highlight?a.get("light_color"):a.get("f_color_"));return!0})}};b.Chart=b.extend(b.Painter,{configure:function(){b.Chart.superclass.configure.apply(this,arguments);this.type="chart";this.dataType="simple";this.set({id:"",render:"",data:[],width:void 0,height:void 0,lineJoin:"round",align:"center",default_mouseover_css:!0,turn_off_touchmove:!1,showpercent:!1,decimalsnum:1,title:{text:"",fontweight:"bold",fontsize:20,height:30},subtitle:{text:"",fontweight:"bold",fontsize:16,height:20},footnote:{text:"",color:"#5d7f97",textAlign:"right",height:20},animation:!1,doAnimation:null,animation_timing_function:"easeInOut",animation_duration:1E3,z_index:999,legend:{enable:!1},tip:{enable:!1}});this.registerEvent("beforeAnimation","afterAnimation","resize","animating");this.T=null;this.show=this.Animationed=this.Combination=this.Rendered=!1;this.data=[];this.plugins=[];this.components=[];this.oneways=[];this.total=0;this.ICHARTJS_CHART=!0},toDataURL:function(a){return this.T.toDataURL(a)},segmentRect:function(){this.Combination||this.T.clearRect()},resetCanvas:function(){this.Combination||this.T.box(this.get("l_originx"),this.get("t_originy"),this.get("client_width"),this.get("client_height"),0,this.get("f_color"),0,0,!0)},animation:function(a){a.segmentRect();a.coo&&!a.ILLUSIVE_COO&&a.coo.draw();a.doAnimation(a.variable.animation.time,a.duration,a);a.plugins.each(function(b){b.A_draw&&(b.variable.animation.animating=!0,b.variable.animation.time=a.variable.animation.time,b.draw(),b.variable.animation.animating=!1)});a.Combination||(a.oneways.each(function(a){a.draw()}),a.variable.animation.time<a.duration?(a.variable.animation.time++,b.requestAnimFrame(function(){a.animation(a)})):b.requestAnimFrame(function(){a.Animationed=!0;a.plugins.each(function(a){a.Animationed=!0});a.processAnimation=!1;a.draw();a.plugins.each(function(a){a.processAnimation=!1});a.fireEvent(a,"afterAnimation",[a])}))},runAnimation:function(a){a.fireEvent(a,"beforeAnimation",[a]);a.A_draw||(a.variable.animation={type:0,time:0,queue:[]});a.processAnimation=!0;a.animation(a)},doSort:function(){var a=function(a,c){return(b.isArray(a)?a.zIndex||0:a.get("z_index"))>(b.isArray(c)?c.zIndex||0:c.get("z_index"))};this.components.sor(a);this.oneways.sor(a)},commonDraw:function(a,c){a.show=!1;a.redraw||(b.Assert.isTrue(a.Rendered,a.type+" has not rendered"),b.Assert.isTrue(a.data&&0<a.data.length,a.type+"'s data is empty"),b.Assert.isTrue(a.initialization,a.type+" Failed to initialize"),a.doSort());a.redraw=!0;!a.Animationed&&a.get("animation")?a.runAnimation(a):(a.segmentRect(),a.components.eachAll(function(a){a.draw(c)}),a.components.eachAll(function(a){a.last&&a.last(a)}),a.oneways.each(function(a){a.draw()}),a.show=!0)},plugin:function(a){var b=this._();a.inject(b);a.ICHARTJS_CHART&&(a.Combination=!0,a.setUp());b.get("animation")||a.push("animation",!1);a.duration=b.duration;b.register(a);b.plugins.push(a)},destroy:function(a){a.components.eachAll(function(a){a.destroy()});a.oneways.each(function(a){a.destroy()})},getTitle:function(){return this.title},getSubTitle:function(){return this.subtitle},getFootNote:function(){return this.footnote},getDrawingArea:function(){return{x:this.get("l_originx"),x:this.get("t_originy"),width:this.get("client_width"),height:this.get("client_height")}},create:function(a,d){if(a.get("fit")){var f=window.innerWidth,e=window.innerHeight,j=b.getDoc().body.style;j.padding="0px";j.margin="0px";j.overflow="hidden";a.push(a.W,f);a.push(a.H,e)}a.canvasid=b.uid(a.type);a.shellid="shell-"+a.canvasid;f=[];f.push("<div id='");f.push(a.shellid);f.push("' style='padding:0px;margin:0px auto;overflow:hidden;position:relative;'>");f.push("<canvas id= '");f.push(a.canvasid);f.push("' style='-webkit-text-size-adjust: none;'>");f.push("<p>Your browser does not support the canvas element</p></canvas>");f.push("</div>");d.innerHTML=f.join("");a.shell=b(a.shellid);a.T=a.target=new c(a.canvasid);a.size(a);a.Rendered=!0},setUp:function(){var a=this._();a.redraw=!1;a.T.clearRect();a.initialization=!1;a.initialize()},load:function(a){var b=this._();b.push("data",a||[]);b.setUp();(b.Combination?b.root:b).draw()},resize:function(a,c){var a=b.parseFloat(a),c=b.parseFloat(c),d=this._();d.Combination||(d.width=d.push(d.W,a),d.height=d.push(d.H,c),d.size(d));d.set(d.fireEvent(d,"resize",[a,c]));d.setUp();d.plugins.eachAll(function(b){b.Combination&&b.resize(a,c)});d.Combination||d.draw()},size:function(a){a.T.canvas.width=a.width=a.pushIf(a.W,400);a.T.canvas.height=a.height=a.pushIf(a.H,300);a.shell.style.width=a.width+"px";a.shell.style.height=a.height+"px"},initialize:function(){var a=this._(),c=a.get("data"),d=a.get("render");a.push(a.X,null);a.push(a.Y,null);a.Combination?(b.apply(a.options,b.clone([a.W,a.H,"padding","border","client_height","client_width","minDistance","maxDistance","centerx","centery","l_originx","r_originx","t_originy","b_originy"],a.root.options,!0)),a.width=a.get(a.W),a.height=a.get(a.H),a.shell=a.root.shell,a.Rendered=!0):a.Rendered||d&&a.create(a,b(d));a.Rendered&&!a.initialization&&(c&&0<c.length?C.call(a,c,a):b.isString(a.get("url"))&&a.ajax.call(a,a.get("url"),function(b){a.push("data",b);a.initialize();a.draw()}))},eventOff:function(){this.stopEvent=!0},eventOn:function(){this.stopEvent=!1},oneWay:function(a){a.T.strokeStyle(!0,0,a.get("strokeStyle"),a.get("lineJoin"));a.processAnimation=a.get("animation");b.isFunction(a.get("doAnimation"))&&(a.doAnimation=a.get("doAnimation"));a.animationArithmetic=b.getAA(a.get("animation_timing_function"));var c=[a.components,a.oneways],d=a.variable.event,e=a.Combination,f=!a.get("turn_off_touchmove")&&!e,j=!b.touch&&a.get("default_mouseover_css")&&!e,i,k=b.touch?["touchstart","touchmove"]:["click","mousemove"];a.stopEvent=!1;a.A_draw=e&&a.processAnimation;b.register(a);e||k.each(function(c){a.T.addEvent(c,function(d){a.processAnimation||a.stopEvent||d.targetTouches&&d.targetTouches.length!=1||a.fireEvent(a,c,[a,b.Event.fix(d)])},false)});a.on(k[0],function(a,b){c.eachAll(function(a){if(a.ICHARTJS_CHART){if(a.fireEvent(a,k[0],[a,b])){d.click=true;return false}}else{var c=a.isMouseOver(b);if(c.valid){d.click=true;a.fireEvent(a,"click",[a,b,c]);return!b.stopPropagation}}});if(d.click){f&&b.event.preventDefault();d.click=false;return true}});if(!b.touch||f)if(a.on(k[1],function(a,b){i=false;c.eachAll(function(a){if(a.ICHARTJS_CHART){if(a.fireEvent(a,k[1],[a,b])){i=true;return false}}else{var c=a.variable.event,d=a.isMouseOver(b);if(d.valid){i=i||a.atomic;if(!c.mouseover){c.mouseover=true;a.fireEvent(a,"mouseover",[a,b,d])}a.fireEvent(a,"mousemove",[a,b,d]);if(d.stop)return false}else if(c.mouseover){c.mouseover=false;a.fireEvent(a,"mouseout",[a,b,d])}return!b.stopPropagation}});if(d.mouseover){b.event.preventDefault();if(!i){d.mouseover=false;a.fireEvent(a,"mouseout",[a,b])}return d.mouseover}if(i){d.mouseover=i;a.fireEvent(a,"mouseover",[a,b])}}),j)a.on("mouseover",function(){a.T.css("cursor","pointer")}).on("mouseout",function(){a.T.css("cursor","default")});a.Combination||(a.bg=new b.Custom({z_index:-1,drawFn:function(){a.T.box(0,0,a.width,a.height,a.get("border"),a.get("f_color"),0,0,true)}}),a.duration=m(a.get("animation_duration")*b.FRAME/1E3));a.oneWay=b.emptyFn},originXY:function(a,b,c){var d=a.get("align");d==a.L?a.pushIf(a.X,b[0]):d==a.R?a.pushIf(a.X,b[1]):a.pushIf(a.X,b[2]);a.x=a.push(a.X,a.get(a.X)+a.get("offsetx"));a.y=a.push(a.Y,c[0]+a.get("offsety"));return{x:a.x,y:a.y}},getPercent:function(a,b){return this.get("showpercent")?(100*(a/(b||this.total||1))).toFixed(this.get("decimalsnum"))+"%":a},doActing:function(a,c,d,e,f){var j=!!a.get("communal_acting"),i=a.getPercent(c.value,c.total);a.push(j?"sub_option":"communal_acting",b.clone(a.get(j?"communal_acting":"sub_option"),!0));b.merge(a.get("sub_option"),c);b.merge(a.get("sub_option"),d);a.push("sub_option.value",i);a.push("sub_option.value_",c.value);a.get("sub_option.tip.enable")&&(a.push("sub_option.tip.text",f||c.name+" "+i),a.push("sub_option.tip.name",c.name),a.push("sub_option.tip.index",e),a.push("sub_option.tip.value",c.value),a.push("sub_option.tip.total",c.total||a.total))},register:function(a){a.id=b.uid(a.type);this.components.push(a);return a},remove:function(a,b){b&&a.components.each(function(c,d){if(b.id==c.id)return a.components.splice(d,1),!1})},doConfig:function(){b.Chart.superclass.doConfig.call(this);var a=this._();a.destroy(a);a.oneways.length=0;a.oneWay(a);!1!==a.get("shadow")&&a.push("shadow",{color:a.get("shadow_color"),blur:a.get("shadow_blur"),offsetx:a.get("shadow_offsetx"),offsety:a.get("shadow_offsety")});b.apply(a.get("sub_option"),b.clone(["shadow","tip"],a.options,!0));a.push("communal_acting",0);if(!a.Combination){a.oneways.push(a.bg);a.push("r_originx",a.width-a.get("padding_right"));a.push("b_originy",a.height-a.get("padding_bottom"));a.applyGradient();b.isString(a.get("title"))&&a.push("title",b.applyIf({text:a.get("title")},a.default_.title));b.isString(a.get("subtitle"))&&a.push("subtitle",b.applyIf({text:a.get("subtitle")},a.default_.subtitle));b.isString(a.get("footnote"))&&a.push("footnote",b.applyIf({text:a.get("footnote")},a.default_.footnote));var c=0,d=a.push("l_originx",a.get("padding_left")),e=a.push("t_originy",a.get("padding_top")),f=a.push("client_width",a.width-a.get("hpadding"));if(""!=a.get("title.text")){var j=""!=a.get("subtitle.text"),c=j?a.get("title.height")+a.get("subtitle.height"):a.get("title.height"),e=a.push("t_originy",e+c);a.push("title.originx",d);a.push("title.originy",a.get("padding_top"));a.push("title.maxwidth",f);a.pushIf("title.width",f);a.title=new b.Text(a.get("title"),a);a.oneways.push(a.title);j&&(a.push("subtitle.originx",d),a.push("subtitle.originy",a.get("padding_top")+a.get("title.height")),a.pushIf("subtitle.width",f),a.push("subtitle.maxwidth",f),a.subtitle=new b.Text(a.get("subtitle"),a),a.oneways.push(a.subtitle))}""!=a.get("footnote.text")&&(j=a.get("footnote.height"),c+=j,a.push("b_originy",a.get("b_originy")-j),a.push("footnote.originx",d),a.push("footnote.originy",a.get("b_originy")),a.push("footnote.maxwidth",f),a.pushIf("footnote.width",f),a.footnote=new b.Text(a.get("footnote"),a),a.oneways.push(a.footnote));c=a.push("client_height",a.get(a.H)-a.get("vpadding")-a.pushIf("other_height",c));a.push("minDistance",s(f,c));a.push("maxDistance",t(f,c));a.push("centerx",d+f/2);a.push("centery",e+c/2)}a.get("legend.enable")&&(a.legend=new b.Legend(b.apply({maxwidth:a.get("client_width"),data:a.data},a.get("legend")),a),a.oneways.push(a.legend));a.push("sub_option.tip.wrap",a.push("tip.wrap",a.shell))}})})(f);f.Legend=f.extend(f.Component,{configure:function(){f.Legend.superclass.configure.apply(this,arguments);this.type="legend";this.set({data:void 0,width:"auto",column:1,row:"max",maxwidth:0,line_height:16,sign:"square",sign_size:10,sign_space:5,legend_space:5,z_index:1009,text_with_sign_color:!1,align:"right",valign:"middle"});this.atomic=!0;this.registerEvent("parse")},isEventValid:function(b,c){var d={valid:!1},f=c.get("line_height");b.x>this.x&&b.x<c.x+c.width&&b.y>c.y&&b.y<c.y+c.height&&c.data.each(function(k,m){if(b.x>k.x&&b.x<k.x+k.width_+c.get("signwidth")&&b.y>k.y-f/2&&b.y<k.y+f/2)return d={valid:!0,index:m,target:k},!1},c);return d},drawCell:function(b,c,d,f,k,m){var p=m.get("sign_size"),y=m.getPlugin("sign");if(!y||!y.call(m,m.T,k,{x:b+p/2,y:c},p,f))-1!=k.indexOf("bar")&&m.T.box(b,c-p/12,p,p/6,0,f),"round"==k?m.T.round(b+p/2,c,p/2,f):"round-bar"==k?m.T.round(b+p/2,c,p/4,f):"square-bar"==k?m.T.box(b+p/4,c-p/4,p/2,p/2,0,f):"square"==k&&m.T.box(b,c-p/2,p,p,0,f);m.T.fillText(d,b+m.get("signwidth"),c,0,m.get("text_with_sign_color")?f:m.get("color"),"lr",m.get("line_height"))},doDraw:function(b){b.T.box(b.x,b.y,b.width,b.height,b.get("border"),b.get("f_color"),!1,b.get("shadow"));b.T.textStyle(b.L,"middle",f.getFont(b.get("fontweight"),b.get("fontsize"),b.get("font")));b.data.each(function(c){b.drawCell(c.x,c.y,c.text,c.color,c.sign,b)})},doLayout:function(b,c){var d=b.get("sign_size"),j=0,k=0,m=0,p=b.get("column"),y=b.get("row"),t=b.data.length,p=p>t?t:p;b.T.textFont(b.get("fontStyle"));b.get("line_height")<d&&b.push("line_height",d+d/5);b.push("signwidth",d+b.get("sign_space"));b.data.each(function(c){c.width_=b.T.measureText(c.text)},b);for(var s=0;s<p;s++){for(var m=0,q=s;q<t;q+=p)m=Math.max(m,b.data[q].width_);b.columnwidth[s]=m;j+=m}for(s=0;s<y;s++){m=0;for(q=s*p;q<t;q++)m=Math.max(m,b.data[q].text.split("\n").length);b.columnheight[s]=m;k+=m}j=b.push(b.W,j+b.get("hpadding")+b.get("signwidth")*p+(p-1)*b.get("legend_space"));if(j>b.get("maxwidth")&&(d=Math.floor(b.get("fontsize")*(b.get("maxwidth")/j)),!(10>d&&1==p))){9<d?b.push("fontStyle",f.getFont(b.get("fontweight"),b.push("fontsize",d),b.get("font"))):1<p&&b.push("row",Math.ceil(t/b.push("column",p-1)));b.doLayout(b,c);return}var u;b.width=j;b.height=k=b.push(b.H,k*b.get("line_height")+b.get("vpadding"));b.y=b.get("valign")==b.O?c.get("t_originy"):b.get("valign")==b.B?c.get("b_originy")-k:c.get("centery")-k/2;b.x=b.get("align")==b.L?c.get("l_originx"):b.get("align")==b.C?c.get("centerx")-j/2:c.get("r_originx")-j;b.x=b.push(b.X,(0>b.x?c.get("l_originx"):b.x)+b.get("offsetx"));b.y=b.push(b.Y,(0>b.y?c.get("t_originy"):b.y)+b.get("offsety"));m=b.y+b.get("padding_top");d=b.get("legend_space")+b.get("signwidth");for(s=0;s<y;s++){k=b.x+b.get("padding_left");u=b.columnheight[s]/2*b.get("line_height");m+=u;for(q=0;q<p&&s*p+q<t;q++)j=b.data[s*p+q],j.y=m,j.x=k,k+=b.columnwidth[q]+d;m+=u}},doConfig:function(){f.Legend.superclass.doConfig.call(this);var b=this._(),c=b.root,d=f.isNumber(b.get("column")),j=f.isNumber(b.get("row")),k=b.data.length;b.get("align")==b.C&&"middle"==b.get("valign")&&b.push("valign",b.O);c.get("align")==b.L&&"middle"==b.get("valign")&&b.push("align",b.R);b.data.each(function(c,d){f.merge(c,b.fireEvent(b,"parse",[b,c.name,d]));c.text=c.text||c.name||"";c.sign=c.sign||b.get("sign")},b);!d&&!j&&(d=b.push("column",1));d&&!j&&(j=b.push("row",Math.ceil(k/b.get("column"))));!d&&j&&(d=b.push("column",Math.ceil(k/b.get("row"))));d=b.get("column");j=b.get("row");k>j*d&&(j+=Math.ceil((k-j*d)/d),j=b.push("row",j));b.columnwidth=[];b.columnheight=[];b.doLayout(b,c)}});f.CrossHair=f.extend(f.Html,{configure:function(){f.CrossHair.superclass.configure.apply(this,arguments);this.type="crosshair";this.set({top:0,left:0,hcross:!0,vcross:!0,invokeOffset:null,line_width:1,line_color:"#1A1A1A",delay:200})},follow:function(b,c,d){d.get("invokeOffset")?(b=d.get("invokeOffset")(b,c))&&b.hit?(d.o_valid=!0,d.position(b.top-d.top,b.left-d.left,d)):(!b||!d.o_valid)&&d.position(d.owidth,d.oheight,d):d.position(b.y-d.top-1,b.x-d.left-1,d)},position:function(b,c,d){d.horizontal.style.top=b-d.size+"px";d.vertical.style.left=c-d.size+"px"},doCreate:function(b,c,d){var j=document.createElement("div");j.style.width=f.toPixel(c);j.style.height=f.toPixel(d);j.style.backgroundColor=b.get("line_color");j.style.position="absolute";b.dom.appendChild(j);return j},doAction:function(b){b.T.on("mouseover",function(c,d,f){b.show(d,f)}).on("mouseout",function(c,d,f){b.hidden(d,f)}).on("mousemove",function(c,d,f){b.follow(d,f,b)})},initialize:function(){f.CrossHair.superclass.initialize.call(this);var b=this._(),c=f.toPixel(b.get("line_width"));b.size=b.get("line_width")/2;b.top=f.fixPixel(b.get(b.O));b.left=f.fixPixel(b.get(b.L));b.owidth=-b.T.root.width;b.oheight=-b.T.root.height;b.o_valid=!1;b.css("width","0px");b.css("height","0px");b.css("top",b.top+"px");b.css("left",b.left+"px");b.css("visibility","hidden");b.horizontal=b.doCreate(b,b.get("hcross")?f.toPixel(b.get(b.W)):"0px",c);b.vertical=b.doCreate(b,c,b.get("vcross")?f.toPixel(b.get(b.H)):"0px")}});f.Tip=f.extend(f.Html,{configure:function(){f.Tip.superclass.configure.apply(this,arguments);this.type="tip";this.set({name:"",index:0,value:"",text:"",showType:"follow",invokeOffset:null,fade_duration:300,move_duration:100,timing_function:"ease-out",invokeOffsetDynamic:!1,style:"textAlign:left;padding:4px 5px;cursor:pointer;backgroundColor:rgba(239,239,239,.85);fontSize:12px;color:black;",border:{enable:!0,radius:5},delay:200});this.registerEvent("parseText")},position:function(b,c,d){d.style.top=(0>b?0:b)+"px";d.style.left=(0>c?0:c)+"px"},follow:function(b,c,d){d.get("invokeOffsetDynamic")?c.hit&&((f.isString(c.text)||f.isNumber(c.text))&&d.text(c.name,c.value,c.text,c.i,d),b=d.get("invokeOffset")(d.width(),d.height(),c),d.position(b.top,b.left,d)):"follow"!=d.get("showType")&&f.isFunction(d.get("invokeOffset"))?(b=d.get("invokeOffset")(d.width(),d.height(),c),d.position(b.top,b.left,d)):d.position(b.y-1.1*d.height()-2,b.x+2,d)},text:function(b,c,d,f,k){k.dom.innerHTML=k.fireString(k,"parseText",[k,b,c,d,f],d)},hidden:function(){this.get("animation")?this.css("opacity",0):this.css("visibility","hidden")},doAction:function(b){b.T.on("mouseover",function(c,d,f){b.show(d,f)}).on("mouseout",function(c,d){b.hidden(d)});if("follow"==b.get("showType"))b.T.on("mousemove",function(c,d,f){b.T.variable.event.mouseover&&setTimeout(function(){b.T.variable.event.mouseover&&b.follow(d,f,b)},b.get("delay"))})},initialize:function(){f.Tip.superclass.initialize.call(this);var b=this._();b.text(b.get("name"),b.get("value"),b.get("text"),b.get("index"),b);b.hidden();if(b.get("animation")){var c=b.get("move_duration")/1E3+"s "+b.get("timing_function")+" 0s";b.transition("opacity "+b.get("fade_duration")/1E3+"s "+b.get("timing_function")+" 0s");b.transition("top "+c);b.transition("left "+c);b.onTransitionEnd(function(){0==b.css("opacity")&&b.css("visibility","hidden")},!1)}}});f.Text=f.extend(f.Component,{configure:function(){f.Text.superclass.configure.apply(this,arguments);this.type="text";this.set({text:"",textAlign:"center",align:"center",background_color:0,textBaseline:"top",border:{enable:!1},width:0,height:0,padding:0,writingmode:"lr",line_height:16,rotate:0});this.registerEvent()},doDraw:function(b){b.get("box_feature")&&b.T.box(b.x,b.y,b.get(b.W),b.get(b.H),b.get("border"),b.get("f_color"));b.T.text(b.get("text"),b.get("textx"),b.get("texty"),b.get(b.W)-b.get("hpadding"),b.get("color"),b.get("textAlign"),b.get("textBaseline"),b.get("fontStyle"),b.get("writingmode"),b.get("line_height"),b.get("shadow"),b.get("rotate"))},isEventValid:function(){return{valid:!1}},doLayout:function(b,c,d,f){f.x=f.push(f.X,f.x+b);f.y=f.push(f.Y,f.y+c);f.push("textx",f.get("textx")+b);f.push("texty",f.get("texty")+c)},doConfig:function(){f.Text.superclass.doConfig.call(this);var b=this._(),c=b.x,d=b.y+b.get("padding_top"),j=b.get(b.W),k=b.get(b.H),m=b.get("textAlign"),c=c+(m==b.C?j/2:m==b.R?j-b.get("padding_right"):b.get("padding_left"));k&&(d+=k/2,b.push("textBaseline","middle"));b.push("textx",c);b.push("texty",d);b.push("box_feature",j&&k);b.applyGradient()}})})(iChart);